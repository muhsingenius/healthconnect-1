function $f(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Lu={exports:{}},ki={},$u={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),Mf=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Wf=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Gf=Symbol.for("react.memo"),Kf=Symbol.for("react.lazy"),Yo=Symbol.iterator;function Jf(e){return e===null||typeof e!="object"?null:(e=Yo&&e[Yo]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Mu={};function en(e,t,r){this.props=e,this.context=t,this.refs=Mu,this.updater=r||Du}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fu(){}Fu.prototype=en.prototype;function Bl(e,t,r){this.props=e,this.context=t,this.refs=Mu,this.updater=r||Du}var Hl=Bl.prototype=new Fu;Hl.constructor=Bl;zu(Hl,en.prototype);Hl.isPureReactComponent=!0;var Zo=Array.isArray,Bu=Object.prototype.hasOwnProperty,Vl={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Bu.call(t,n)&&!Hu.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ns,type:e,key:i,ref:l,props:s,_owner:Vl.current}}function Xf(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function Yf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ec=/\/+/g;function ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yf(""+e.key):t.toString(36)}function $s(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ns:case Mf:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ta(l,0):n,Zo(s)?(r="",e!=null&&(r=e.replace(ec,"$&/")+"/"),$s(s,t,r,"",function(u){return u})):s!=null&&(Wl(s)&&(s=Xf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ec,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Zo(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+ta(i,o);l+=$s(i,t,r,c,s)}else if(c=Jf(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+ta(i,o++),l+=$s(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function fs(e,t,r){if(e==null)return e;var n=[],s=0;return $s(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Zf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Ds={transition:null},em={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Vl};function Wu(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=en;z.Fragment=Ff;z.Profiler=Hf;z.PureComponent=Bl;z.StrictMode=Bf;z.Suspense=Qf;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;z.act=Wu;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zu({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Bu.call(t,c)&&!Hu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ns,type:e.type,key:s,ref:i,props:n,_owner:l}};z.createContext=function(e){return e={$$typeof:Wf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};z.createElement=Vu;z.createFactory=function(e){var t=Vu.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:qf,render:e}};z.isValidElement=Wl;z.lazy=function(e){return{$$typeof:Kf,_payload:{_status:-1,_result:e},_init:Zf}};z.memo=function(e,t){return{$$typeof:Gf,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};z.unstable_act=Wu;z.useCallback=function(e,t){return be.current.useCallback(e,t)};z.useContext=function(e){return be.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return be.current.useDeferredValue(e)};z.useEffect=function(e,t){return be.current.useEffect(e,t)};z.useId=function(){return be.current.useId()};z.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return be.current.useMemo(e,t)};z.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};z.useRef=function(e){return be.current.useRef(e)};z.useState=function(e){return be.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return be.current.useTransition()};z.version="18.3.1";$u.exports=z;var N=$u.exports;const qu=Df(N),tm=$f({__proto__:null,default:qu},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=N,nm=Symbol.for("react.element"),sm=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,am=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lm={key:!0,ref:!0,__self:!0,__source:!0};function Qu(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)im.call(t,n)&&!lm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:nm,type:e,key:i,ref:l,props:s,_owner:am.current}}ki.Fragment=sm;ki.jsx=Qu;ki.jsxs=Qu;Lu.exports=ki;var a=Lu.exports,Ia={},Gu={exports:{}},ze={},Ku={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var L=A.length;A.push(U);e:for(;0<L;){var Y=L-1>>>1,ae=A[Y];if(0<s(ae,U))A[Y]=U,A[L]=ae,L=Y;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var U=A[0],L=A.pop();if(L!==U){A[0]=L;e:for(var Y=0,ae=A.length,ds=ae>>>1;Y<ds;){var Zt=2*(Y+1)-1,ea=A[Zt],er=Zt+1,hs=A[er];if(0>s(ea,L))er<ae&&0>s(hs,ea)?(A[Y]=hs,A[er]=L,Y=er):(A[Y]=ea,A[Zt]=L,Y=Zt);else if(er<ae&&0>s(hs,L))A[Y]=hs,A[er]=L,Y=er;else break e}}return U}function s(A,U){var L=A.sortIndex-U.sortIndex;return L!==0?L:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,f=3,y=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=A)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function b(A){if(x=!1,g(A),!w)if(r(c)!==null)w=!0,Yi(S);else{var U=r(u);U!==null&&Zi(b,U.startTime-A)}}function S(A,U){w=!1,x&&(x=!1,m(k),k=-1),y=!0;var L=f;try{for(g(U),h=r(c);h!==null&&(!(h.expirationTime>U)||A&&!Q());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ae=Y(h.expirationTime<=U);U=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===r(c)&&n(c),g(U)}else n(c);h=r(c)}if(h!==null)var ds=!0;else{var Zt=r(u);Zt!==null&&Zi(b,Zt.startTime-U),ds=!1}return ds}finally{h=null,f=L,y=!1}}var _=!1,v=null,k=-1,P=5,C=-1;function Q(){return!(e.unstable_now()-C<P)}function ke(){if(v!==null){var A=e.unstable_now();C=A;var U=!0;try{U=v(!0,A)}finally{U?on():(_=!1,v=null)}}else _=!1}var on;if(typeof p=="function")on=function(){p(ke)};else if(typeof MessageChannel<"u"){var Xo=new MessageChannel,Lf=Xo.port2;Xo.port1.onmessage=ke,on=function(){Lf.postMessage(null)}}else on=function(){j(ke,0)};function Yi(A){v=A,_||(_=!0,on())}function Zi(A,U){k=j(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Yi(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var L=f;f=U;try{return A()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=f;f=A;try{return U()}finally{f=L}},e.unstable_scheduleCallback=function(A,U,L){var Y=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Y+L:Y):L=Y,A){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=L+ae,A={id:d++,callback:U,priorityLevel:A,startTime:L,expirationTime:ae,sortIndex:-1},L>Y?(A.sortIndex=L,t(u,A),r(c)===null&&A===r(u)&&(x?(m(k),k=-1):x=!0,Zi(b,L-Y))):(A.sortIndex=ae,t(c,A),w||y||(w=!0,Yi(S))),A},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(A){var U=f;return function(){var L=f;f=U;try{return A.apply(this,arguments)}finally{f=L}}}})(Ju);Ku.exports=Ju;var om=Ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=N,De=om;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,Ln={};function yr(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(Ln[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,um=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tc={},rc={};function dm(e){return Ua.call(rc,e)?!0:Ua.call(tc,e)?!1:um.test(e)?rc[e]=!0:(tc[e]=!0,!1)}function hm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fm(e,t,r,n){if(t===null||typeof t>"u"||hm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var ql=/[\-:]([a-z])/g;function Ql(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ql,Ql);me[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ql,Ql);me[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ql,Ql);me[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gl(e,t,r,n){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fm(t,r,s,n)&&(r=null),n||s===null?dm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bt=cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),La=Symbol.for("react.profiler"),Yu=Symbol.for("react.provider"),Zu=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),$a=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Xl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),ed=Symbol.for("react.offscreen"),nc=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,ra;function xn(e){if(ra===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ra=t&&t[1]||""}return`
`+ra+e}var na=!1;function sa(e,t){if(!e||na)return"";na=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{na=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xn(e):""}function mm(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Er:return"Portal";case La:return"Profiler";case Kl:return"StrictMode";case $a:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zu:return(e.displayName||"Context")+".Consumer";case Yu:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xl:return t=e.displayName||null,t!==null?t:za(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return za(e(t))}catch{}}return null}function pm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return za(t);case 8:return t===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gm(e){var t=td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=gm(e))}function rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=td(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ma(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nd(e,t){t=t.checked,t!=null&&Gl(e,"checked",t,!1)}function Fa(e,t){nd(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ba(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ba(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ic(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ba(e,t,r){(t!=="number"||Js(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wn=Array.isArray;function zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ha(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ac(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(wn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function sd(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,ad=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $n(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ym=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){ym.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});function ld(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function od(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ld(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var vm=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(e,t){if(t){if(vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function qa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qa=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,Mr=null,Fr=null;function oc(e){if(e=as(e)){if(typeof Ga!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Ti(t),Ga(e.stateNode,e.type,t))}}function cd(e){Mr?Fr?Fr.push(e):Fr=[e]:Mr=e}function ud(){if(Mr){var e=Mr,t=Fr;if(Fr=Mr=null,oc(e),t)for(e=0;e<t.length;e++)oc(t[e])}}function dd(e,t){return e(t)}function hd(){}var ia=!1;function fd(e,t,r){if(ia)return e(t,r);ia=!0;try{return dd(e,t,r)}finally{ia=!1,(Mr!==null||Fr!==null)&&(hd(),ud())}}function Dn(e,t){var r=e.stateNode;if(r===null)return null;var n=Ti(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Ka=!1;if(xt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Ka=!1}function xm(e,t,r,n,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var kn=!1,Xs=null,Ys=!1,Ja=null,wm={onError:function(e){kn=!0,Xs=e}};function jm(e,t,r,n,s,i,l,o,c){kn=!1,Xs=null,xm.apply(wm,arguments)}function _m(e,t,r,n,s,i,l,o,c){if(jm.apply(this,arguments),kn){if(kn){var u=Xs;kn=!1,Xs=null}else throw Error(E(198));Ys||(Ys=!0,Ja=u)}}function vr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function md(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cc(e){if(vr(e)!==e)throw Error(E(188))}function bm(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return cc(s),e;if(i===n)return cc(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function pd(e){return e=bm(e),e!==null?gd(e):null}function gd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gd(e);if(t!==null)return t;e=e.sibling}return null}var yd=De.unstable_scheduleCallback,uc=De.unstable_cancelCallback,Nm=De.unstable_shouldYield,km=De.unstable_requestPaint,Z=De.unstable_now,Sm=De.unstable_getCurrentPriorityLevel,Zl=De.unstable_ImmediatePriority,vd=De.unstable_UserBlockingPriority,Zs=De.unstable_NormalPriority,Em=De.unstable_LowPriority,xd=De.unstable_IdlePriority,Si=null,ot=null;function Cm(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Am,Pm=Math.log,Tm=Math.LN2;function Am(e){return e>>>=0,e===0?32:31-(Pm(e)/Tm|0)|0}var ys=64,vs=4194304;function jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=jn(o):(i&=l,i!==0&&(n=jn(i)))}else l=r&~s,l!==0?n=jn(l):i!==0&&(n=jn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rt(t),s=1<<r,n|=e[r],t&=~s;return n}function Om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-rt(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Om(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wd(){var e=ys;return ys<<=1,!(ys&4194240)&&(ys=64),e}function aa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function Im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function eo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var F=0;function jd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _d,to,bd,Nd,kd,Ya=!1,xs=[],$t=null,Dt=null,zt=null,zn=new Map,Mn=new Map,At=[],Um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function dn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=as(t),t!==null&&to(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lm(e,t,r,n,s){switch(t){case"focusin":return $t=dn($t,e,t,r,n,s),!0;case"dragenter":return Dt=dn(Dt,e,t,r,n,s),!0;case"mouseover":return zt=dn(zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return zn.set(i,dn(zn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Mn.set(i,dn(Mn.get(i)||null,e,t,r,n,s)),!0}return!1}function Sd(e){var t=ar(e.target);if(t!==null){var r=vr(t);if(r!==null){if(t=r.tag,t===13){if(t=md(r),t!==null){e.blockedOn=t,kd(e.priority,function(){bd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Za(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qa=n,r.target.dispatchEvent(n),Qa=null}else return t=as(r),t!==null&&to(t),e.blockedOn=r,!1;t.shift()}return!0}function hc(e,t,r){zs(e)&&r.delete(t)}function $m(){Ya=!1,$t!==null&&zs($t)&&($t=null),Dt!==null&&zs(Dt)&&(Dt=null),zt!==null&&zs(zt)&&(zt=null),zn.forEach(hc),Mn.forEach(hc)}function hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ya||(Ya=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,$m)))}function Fn(e){function t(s){return hn(s,e)}if(0<xs.length){hn(xs[0],e);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for($t!==null&&hn($t,e),Dt!==null&&hn(Dt,e),zt!==null&&hn(zt,e),zn.forEach(t),Mn.forEach(t),r=0;r<At.length;r++)n=At[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&(r=At[0],r.blockedOn===null);)Sd(r),r.blockedOn===null&&At.shift()}var Br=bt.ReactCurrentBatchConfig,ti=!0;function Dm(e,t,r,n){var s=F,i=Br.transition;Br.transition=null;try{F=1,ro(e,t,r,n)}finally{F=s,Br.transition=i}}function zm(e,t,r,n){var s=F,i=Br.transition;Br.transition=null;try{F=4,ro(e,t,r,n)}finally{F=s,Br.transition=i}}function ro(e,t,r,n){if(ti){var s=Za(e,t,r,n);if(s===null)ga(e,t,n,ri,r),dc(e,n);else if(Lm(s,e,t,r,n))n.stopPropagation();else if(dc(e,n),t&4&&-1<Um.indexOf(e)){for(;s!==null;){var i=as(s);if(i!==null&&_d(i),i=Za(e,t,r,n),i===null&&ga(e,t,n,ri,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ga(e,t,n,null,r)}}var ri=null;function Za(e,t,r,n){if(ri=null,e=Yl(n),e=ar(e),e!==null)if(t=vr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=md(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ri=e,null}function Ed(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sm()){case Zl:return 1;case vd:return 4;case Zs:case Em:return 16;case xd:return 536870912;default:return 16}default:return 16}}var It=null,no=null,Ms=null;function Cd(){if(Ms)return Ms;var e,t=no,r=t.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return Ms=s.slice(e,1<n?1-n:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function fc(){return!1}function Me(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ws:fc,this.isPropagationStopped=fc,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Me(tn),is=J({},tn,{view:0,detail:0}),Mm=Me(is),la,oa,fn,Ei=J({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(la=e.screenX-fn.screenX,oa=e.screenY-fn.screenY):oa=la=0,fn=e),la)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),mc=Me(Ei),Fm=J({},Ei,{dataTransfer:0}),Bm=Me(Fm),Hm=J({},is,{relatedTarget:0}),ca=Me(Hm),Vm=J({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wm=Me(Vm),qm=J({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qm=Me(qm),Gm=J({},tn,{data:0}),pc=Me(Gm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ym(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xm[e])?!!t[e]:!1}function io(){return Ym}var Zm=J({},is,{key:function(e){if(e.key){var t=Km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ep=Me(Zm),tp=J({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=Me(tp),rp=J({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),np=Me(rp),sp=J({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=Me(sp),ap=J({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lp=Me(ap),op=[9,13,27,32],ao=xt&&"CompositionEvent"in window,Sn=null;xt&&"documentMode"in document&&(Sn=document.documentMode);var cp=xt&&"TextEvent"in window&&!Sn,Pd=xt&&(!ao||Sn&&8<Sn&&11>=Sn),yc=String.fromCharCode(32),vc=!1;function Td(e,t){switch(e){case"keyup":return op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function up(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(vc=!0,yc);case"textInput":return e=t.data,e===yc&&vc?null:e;default:return null}}function dp(e,t){if(Pr)return e==="compositionend"||!ao&&Td(e,t)?(e=Cd(),Ms=no=It=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hp[e.type]:t==="textarea"}function Od(e,t,r,n){cd(n),t=ni(t,"onChange"),0<t.length&&(r=new so("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var En=null,Bn=null;function fp(e){Hd(e,0)}function Ci(e){var t=Or(e);if(rd(t))return e}function mp(e,t){if(e==="change")return t}var Rd=!1;if(xt){var ua;if(xt){var da="oninput"in document;if(!da){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),da=typeof wc.oninput=="function"}ua=da}else ua=!1;Rd=ua&&(!document.documentMode||9<document.documentMode)}function jc(){En&&(En.detachEvent("onpropertychange",Id),Bn=En=null)}function Id(e){if(e.propertyName==="value"&&Ci(Bn)){var t=[];Od(t,Bn,e,Yl(e)),fd(fp,t)}}function pp(e,t,r){e==="focusin"?(jc(),En=t,Bn=r,En.attachEvent("onpropertychange",Id)):e==="focusout"&&jc()}function gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ci(Bn)}function yp(e,t){if(e==="click")return Ci(t)}function vp(e,t){if(e==="input"||e==="change")return Ci(t)}function xp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:xp;function Hn(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ua.call(t,s)||!st(e[s],t[s]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var r=_c(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_c(r)}}function Ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Js(e.document)}return t}function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Ld(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ud(r.ownerDocument.documentElement,r)){if(n!==null&&lo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=bc(r,i);var l=bc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jp=xt&&"documentMode"in document&&11>=document.documentMode,Tr=null,el=null,Cn=null,tl=!1;function Nc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tl||Tr==null||Tr!==Js(n)||(n=Tr,"selectionStart"in n&&lo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cn&&Hn(Cn,n)||(Cn=n,n=ni(el,"onSelect"),0<n.length&&(t=new so("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tr)))}function js(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ar={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},ha={},$d={};xt&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Pi(e){if(ha[e])return ha[e];if(!Ar[e])return e;var t=Ar[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $d)return ha[e]=t[r];return e}var Dd=Pi("animationend"),zd=Pi("animationiteration"),Md=Pi("animationstart"),Fd=Pi("transitionend"),Bd=new Map,kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){Bd.set(e,t),yr(t,[e])}for(var fa=0;fa<kc.length;fa++){var ma=kc[fa],_p=ma.toLowerCase(),bp=ma[0].toUpperCase()+ma.slice(1);Gt(_p,"on"+bp)}Gt(Dd,"onAnimationEnd");Gt(zd,"onAnimationIteration");Gt(Md,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(Fd,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Np=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function Sc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_m(n,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Sc(s,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Sc(s,o,u),i=c}}}if(Ys)throw e=Ja,Ys=!1,Ja=null,e}function V(e,t){var r=t[al];r===void 0&&(r=t[al]=new Set);var n=e+"__bubble";r.has(n)||(Vd(t,e,2,!1),r.add(n))}function pa(e,t,r){var n=0;t&&(n|=4),Vd(r,e,n,t)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[_s]){e[_s]=!0,Xu.forEach(function(r){r!=="selectionchange"&&(Np.has(r)||pa(r,!1,e),pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_s]||(t[_s]=!0,pa("selectionchange",!1,t))}}function Vd(e,t,r,n){switch(Ed(t)){case 1:var s=Dm;break;case 4:s=zm;break;default:s=ro}r=s.bind(null,t,r,e),s=void 0,!Ka||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ga(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=ar(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}fd(function(){var u=i,d=Yl(r),h=[];e:{var f=Bd.get(e);if(f!==void 0){var y=so,w=e;switch(e){case"keypress":if(Fs(r)===0)break e;case"keydown":case"keyup":y=ep;break;case"focusin":w="focus",y=ca;break;case"focusout":w="blur",y=ca;break;case"beforeblur":case"afterblur":y=ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=np;break;case Dd:case zd:case Md:y=Wm;break;case Fd:y=ip;break;case"scroll":y=Mm;break;case"wheel":y=lp;break;case"copy":case"cut":case"paste":y=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gc}var x=(t&4)!==0,j=!x&&e==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=Dn(p,m),b!=null&&x.push(Wn(p,b,g)))),j)break;p=p.return}0<x.length&&(f=new y(f,w,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Qa&&(w=r.relatedTarget||r.fromElement)&&(ar(w)||w[wt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?ar(w):null,w!==null&&(j=vr(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=mc,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=gc,b="onPointerLeave",m="onPointerEnter",p="pointer"),j=y==null?f:Or(y),g=w==null?f:Or(w),f=new x(b,p+"leave",y,r,d),f.target=j,f.relatedTarget=g,b=null,ar(d)===u&&(x=new x(m,p+"enter",w,r,d),x.target=g,x.relatedTarget=j,b=x),j=b,y&&w)t:{for(x=y,m=w,p=0,g=x;g;g=jr(g))p++;for(g=0,b=m;b;b=jr(b))g++;for(;0<p-g;)x=jr(x),p--;for(;0<g-p;)m=jr(m),g--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=jr(x),m=jr(m)}x=null}else x=null;y!==null&&Ec(h,f,y,x,!1),w!==null&&j!==null&&Ec(h,j,w,x,!0)}}e:{if(f=u?Or(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=mp;else if(xc(f))if(Rd)S=vp;else{S=gp;var _=pp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=yp);if(S&&(S=S(e,u))){Od(h,S,r,d);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Ba(f,"number",f.value)}switch(_=u?Or(u):window,e){case"focusin":(xc(_)||_.contentEditable==="true")&&(Tr=_,el=u,Cn=null);break;case"focusout":Cn=el=Tr=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Nc(h,r,d);break;case"selectionchange":if(jp)break;case"keydown":case"keyup":Nc(h,r,d)}var v;if(ao)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pr?Td(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Pd&&r.locale!=="ko"&&(Pr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pr&&(v=Cd()):(It=d,no="value"in It?It.value:It.textContent,Pr=!0)),_=ni(u,k),0<_.length&&(k=new pc(k,e,null,r,d),h.push({event:k,listeners:_}),v?k.data=v:(v=Ad(r),v!==null&&(k.data=v)))),(v=cp?up(e,r):dp(e,r))&&(u=ni(u,"onBeforeInput"),0<u.length&&(d=new pc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=v))}Hd(h,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ni(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dn(e,r),i!=null&&n.unshift(Wn(e,i,s)),i=Dn(e,t),i!=null&&n.push(Wn(e,i,s))),e=e.return}return n}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ec(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Dn(r,i),c!=null&&l.unshift(Wn(r,c,o))):s||(c=Dn(r,i),c!=null&&l.push(Wn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var kp=/\r\n?/g,Sp=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(kp,`
`).replace(Sp,"")}function bs(e,t,r){if(t=Cc(t),Cc(e)!==t&&r)throw Error(E(425))}function si(){}var rl=null,nl=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Ep=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(e){return Pc.resolve(null).then(e).catch(Pp)}:il;function Pp(e){setTimeout(function(){throw e})}function ya(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Fn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fn(t)}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),lt="__reactFiber$"+rn,qn="__reactProps$"+rn,wt="__reactContainer$"+rn,al="__reactEvents$"+rn,Tp="__reactListeners$"+rn,Ap="__reactHandles$"+rn;function ar(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wt]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tc(e);e!==null;){if(r=e[lt])return r;e=Tc(e)}return t}e=r,r=e.parentNode}return null}function as(e){return e=e[lt]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Ti(e){return e[qn]||null}var ll=[],Rr=-1;function Kt(e){return{current:e}}function W(e){0>Rr||(e.current=ll[Rr],ll[Rr]=null,Rr--)}function H(e,t){Rr++,ll[Rr]=e.current,e.current=t}var Qt={},ve=Kt(Qt),Te=Kt(!1),hr=Qt;function Qr(e,t){var r=e.type.contextTypes;if(!r)return Qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function ii(){W(Te),W(ve)}function Ac(e,t,r){if(ve.current!==Qt)throw Error(E(168));H(ve,t),H(Te,r)}function Wd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,pm(e)||"Unknown",s));return J({},r,n)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,hr=ve.current,H(ve,e),H(Te,Te.current),!0}function Oc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Wd(e,t,hr),n.__reactInternalMemoizedMergedChildContext=e,W(Te),W(ve),H(ve,e)):W(Te),H(Te,r)}var ft=null,Ai=!1,va=!1;function qd(e){ft===null?ft=[e]:ft.push(e)}function Op(e){Ai=!0,qd(e)}function Jt(){if(!va&&ft!==null){va=!0;var e=0,t=F;try{var r=ft;for(F=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ft=null,Ai=!1}catch(s){throw ft!==null&&(ft=ft.slice(e+1)),yd(Zl,Jt),s}finally{F=t,va=!1}}return null}var Ir=[],Ur=0,li=null,oi=0,Fe=[],Be=0,fr=null,mt=1,pt="";function rr(e,t){Ir[Ur++]=oi,Ir[Ur++]=li,li=e,oi=t}function Qd(e,t,r){Fe[Be++]=mt,Fe[Be++]=pt,Fe[Be++]=fr,fr=e;var n=mt;e=pt;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,mt=1<<32-rt(t)+s|r<<s|n,pt=i+e}else mt=1<<i|r<<s|n,pt=e}function oo(e){e.return!==null&&(rr(e,1),Qd(e,1,0))}function co(e){for(;e===li;)li=Ir[--Ur],Ir[Ur]=null,oi=Ir[--Ur],Ir[Ur]=null;for(;e===fr;)fr=Fe[--Be],Fe[Be]=null,pt=Fe[--Be],Fe[Be]=null,mt=Fe[--Be],Fe[Be]=null}var Le=null,Ue=null,q=!1,tt=null;function Gd(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Le=e,Ue=Mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Le=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fr!==null?{id:mt,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Le=e,Ue=null,!0):!1;default:return!1}}function ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(q){var t=Ue;if(t){var r=t;if(!Rc(e,t)){if(ol(e))throw Error(E(418));t=Mt(r.nextSibling);var n=Le;t&&Rc(e,t)?Gd(n,r):(e.flags=e.flags&-4097|2,q=!1,Le=e)}}else{if(ol(e))throw Error(E(418));e.flags=e.flags&-4097|2,q=!1,Le=e}}}function Ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Le=e}function Ns(e){if(e!==Le)return!1;if(!q)return Ic(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=Ue)){if(ol(e))throw Kd(),Error(E(418));for(;t;)Gd(e,t),t=Mt(t.nextSibling)}if(Ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ue=Mt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=Le?Mt(e.stateNode.nextSibling):null;return!0}function Kd(){for(var e=Ue;e;)e=Mt(e.nextSibling)}function Gr(){Ue=Le=null,q=!1}function uo(e){tt===null?tt=[e]:tt.push(e)}var Rp=bt.ReactCurrentBatchConfig;function mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function ks(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function Jd(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Vt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,g,b){return p===null||p.tag!==6?(p=ka(g,m.mode,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function c(m,p,g,b){var S=g.type;return S===Cr?d(m,p,g.props.children,b,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ct&&Uc(S)===p.type)?(b=s(p,g.props),b.ref=mn(m,p,g),b.return=m,b):(b=Gs(g.type,g.key,g.props,null,m.mode,b),b.ref=mn(m,p,g),b.return=m,b)}function u(m,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Sa(g,m.mode,b),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,b,S){return p===null||p.tag!==7?(p=dr(g,m.mode,b,S),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ka(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:return g=Gs(p.type,p.key,p.props,null,m.mode,g),g.ref=mn(m,null,p),g.return=m,g;case Er:return p=Sa(p,m.mode,g),p.return=m,p;case Ct:var b=p._init;return h(m,b(p._payload),g)}if(wn(p)||cn(p))return p=dr(p,m.mode,g,null),p.return=m,p;ks(m,p)}return null}function f(m,p,g,b){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:o(m,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return g.key===S?c(m,p,g,b):null;case Er:return g.key===S?u(m,p,g,b):null;case Ct:return S=g._init,f(m,p,S(g._payload),b)}if(wn(g)||cn(g))return S!==null?null:d(m,p,g,b,null);ks(m,g)}return null}function y(m,p,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,o(p,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ms:return m=m.get(b.key===null?g:b.key)||null,c(p,m,b,S);case Er:return m=m.get(b.key===null?g:b.key)||null,u(p,m,b,S);case Ct:var _=b._init;return y(m,p,g,_(b._payload),S)}if(wn(b)||cn(b))return m=m.get(g)||null,d(p,m,b,S,null);ks(p,b)}return null}function w(m,p,g,b){for(var S=null,_=null,v=p,k=p=0,P=null;v!==null&&k<g.length;k++){v.index>k?(P=v,v=null):P=v.sibling;var C=f(m,v,g[k],b);if(C===null){v===null&&(v=P);break}e&&v&&C.alternate===null&&t(m,v),p=i(C,p,k),_===null?S=C:_.sibling=C,_=C,v=P}if(k===g.length)return r(m,v),q&&rr(m,k),S;if(v===null){for(;k<g.length;k++)v=h(m,g[k],b),v!==null&&(p=i(v,p,k),_===null?S=v:_.sibling=v,_=v);return q&&rr(m,k),S}for(v=n(m,v);k<g.length;k++)P=y(v,m,k,g[k],b),P!==null&&(e&&P.alternate!==null&&v.delete(P.key===null?k:P.key),p=i(P,p,k),_===null?S=P:_.sibling=P,_=P);return e&&v.forEach(function(Q){return t(m,Q)}),q&&rr(m,k),S}function x(m,p,g,b){var S=cn(g);if(typeof S!="function")throw Error(E(150));if(g=S.call(g),g==null)throw Error(E(151));for(var _=S=null,v=p,k=p=0,P=null,C=g.next();v!==null&&!C.done;k++,C=g.next()){v.index>k?(P=v,v=null):P=v.sibling;var Q=f(m,v,C.value,b);if(Q===null){v===null&&(v=P);break}e&&v&&Q.alternate===null&&t(m,v),p=i(Q,p,k),_===null?S=Q:_.sibling=Q,_=Q,v=P}if(C.done)return r(m,v),q&&rr(m,k),S;if(v===null){for(;!C.done;k++,C=g.next())C=h(m,C.value,b),C!==null&&(p=i(C,p,k),_===null?S=C:_.sibling=C,_=C);return q&&rr(m,k),S}for(v=n(m,v);!C.done;k++,C=g.next())C=y(v,m,k,C.value,b),C!==null&&(e&&C.alternate!==null&&v.delete(C.key===null?k:C.key),p=i(C,p,k),_===null?S=C:_.sibling=C,_=C);return e&&v.forEach(function(ke){return t(m,ke)}),q&&rr(m,k),S}function j(m,p,g,b){if(typeof g=="object"&&g!==null&&g.type===Cr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:e:{for(var S=g.key,_=p;_!==null;){if(_.key===S){if(S=g.type,S===Cr){if(_.tag===7){r(m,_.sibling),p=s(_,g.props.children),p.return=m,m=p;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ct&&Uc(S)===_.type){r(m,_.sibling),p=s(_,g.props),p.ref=mn(m,_,g),p.return=m,m=p;break e}r(m,_);break}else t(m,_);_=_.sibling}g.type===Cr?(p=dr(g.props.children,m.mode,b,g.key),p.return=m,m=p):(b=Gs(g.type,g.key,g.props,null,m.mode,b),b.ref=mn(m,p,g),b.return=m,m=b)}return l(m);case Er:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=Sa(g,m.mode,b),p.return=m,m=p}return l(m);case Ct:return _=g._init,j(m,p,_(g._payload),b)}if(wn(g))return w(m,p,g,b);if(cn(g))return x(m,p,g,b);ks(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=ka(g,m.mode,b),p.return=m,m=p),l(m)):r(m,p)}return j}var Kr=Jd(!0),Xd=Jd(!1),ci=Kt(null),ui=null,Lr=null,ho=null;function fo(){ho=Lr=ui=null}function mo(e){var t=ci.current;W(ci),e._currentValue=t}function ul(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Hr(e,t){ui=e,ho=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(ho!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(ui===null)throw Error(E(308));Lr=e,ui.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var lr=null;function po(e){lr===null?lr=[e]:lr.push(e)}function Yd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,po(t)):(r.next=s.next,s.next=r),t.interleaved=r,jt(e,n)}function jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pt=!1;function go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,M&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,jt(e,r)}return s=n.interleaved,s===null?(t.next=t,po(n)):(t.next=s.next,s.next=t),n.interleaved=t,jt(e,r)}function Bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eo(e,r)}}function Lc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function di(e,t,r,n){var s=e.updateQueue;Pt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;l=0,d=u=c=null,o=i;do{var f=o.lane,y=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,x=o;switch(f=t,y=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(y,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(y,h,f):w,f==null)break e;h=J({},h,f);break e;case 2:Pt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);pr|=l,e.lanes=l,e.memoizedState=h}}function $c(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ls={},ct=Kt(ls),Qn=Kt(ls),Gn=Kt(ls);function or(e){if(e===ls)throw Error(E(174));return e}function yo(e,t){switch(H(Gn,t),H(Qn,e),H(ct,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Va(t,e)}W(ct),H(ct,t)}function Jr(){W(ct),W(Qn),W(Gn)}function eh(e){or(Gn.current);var t=or(ct.current),r=Va(t,e.type);t!==r&&(H(Qn,e),H(ct,r))}function vo(e){Qn.current===e&&(W(ct),W(Qn))}var G=Kt(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=[];function xo(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var Hs=bt.ReactCurrentDispatcher,wa=bt.ReactCurrentBatchConfig,mr=0,K=null,se=null,oe=null,fi=!1,Pn=!1,Kn=0,Ip=0;function pe(){throw Error(E(321))}function wo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!st(e[r],t[r]))return!1;return!0}function jo(e,t,r,n,s,i){if(mr=i,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?Dp:zp,e=r(n,s),Pn){i=0;do{if(Pn=!1,Kn=0,25<=i)throw Error(E(301));i+=1,oe=se=null,t.updateQueue=null,Hs.current=Mp,e=r(n,s)}while(Pn)}if(Hs.current=mi,t=se!==null&&se.next!==null,mr=0,oe=se=K=null,fi=!1,t)throw Error(E(300));return e}function _o(){var e=Kn!==0;return Kn=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?K.memoizedState=oe=e:oe=oe.next=e,oe}function Qe(){if(se===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=oe===null?K.memoizedState:oe.next;if(t!==null)oe=t,se=e;else{if(e===null)throw Error(E(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},oe===null?K.memoizedState=oe=e:oe=oe.next=e}return oe}function Jn(e,t){return typeof t=="function"?t(e):t}function ja(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((mr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,K.lanes|=d,pr|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,st(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,K.lanes|=i,pr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _a(e){var t=Qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);st(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function th(){}function rh(e,t){var r=K,n=Qe(),s=t(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,bo(ih.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,Xn(9,sh.bind(null,r,n,s,t),void 0,null),ue===null)throw Error(E(349));mr&30||nh(r,t,s)}return s}function nh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sh(e,t,r,n){t.value=r,t.getSnapshot=n,ah(t)&&lh(e)}function ih(e,t,r){return r(function(){ah(t)&&lh(e)})}function ah(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!st(e,r)}catch{return!0}}function lh(e){var t=jt(e,1);t!==null&&nt(t,e,1,-1)}function Dc(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,K,e),[t.memoizedState,e]}function Xn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oh(){return Qe().memoizedState}function Vs(e,t,r,n){var s=at();K.flags|=e,s.memoizedState=Xn(1|t,r,void 0,n===void 0?null:n)}function Oi(e,t,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(se!==null){var l=se.memoizedState;if(i=l.destroy,n!==null&&wo(n,l.deps)){s.memoizedState=Xn(t,r,i,n);return}}K.flags|=e,s.memoizedState=Xn(1|t,r,i,n)}function zc(e,t){return Vs(8390656,8,e,t)}function bo(e,t){return Oi(2048,8,e,t)}function ch(e,t){return Oi(4,2,e,t)}function uh(e,t){return Oi(4,4,e,t)}function dh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hh(e,t,r){return r=r!=null?r.concat([e]):null,Oi(4,4,dh.bind(null,t,e),r)}function No(){}function fh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ph(e,t,r){return mr&21?(st(r,t)||(r=wd(),K.lanes|=r,pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function Up(e,t){var r=F;F=r!==0&&4>r?r:4,e(!0);var n=wa.transition;wa.transition={};try{e(!1),t()}finally{F=r,wa.transition=n}}function gh(){return Qe().memoizedState}function Lp(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yh(e))vh(t,r);else if(r=Yd(e,t,r,n),r!==null){var s=_e();nt(r,e,n,s),xh(r,t,n)}}function $p(e,t,r){var n=Ht(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yh(e))vh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,st(o,l)){var c=t.interleaved;c===null?(s.next=s,po(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Yd(e,t,s,n),r!==null&&(s=_e(),nt(r,e,n,s),xh(r,t,n))}}function yh(e){var t=e.alternate;return e===K||t!==null&&t===K}function vh(e,t){Pn=fi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eo(e,r)}}var mi={readContext:qe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Dp={readContext:qe,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:zc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,dh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Lp.bind(null,K,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Dc,useDebugValue:No,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Dc(!1),t=e[0];return e=Up.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=K,s=at();if(q){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ue===null)throw Error(E(349));mr&30||nh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,zc(ih.bind(null,n,i,e),[e]),n.flags|=2048,Xn(9,sh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=at(),t=ue.identifierPrefix;if(q){var r=pt,n=mt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ip++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zp={readContext:qe,useCallback:fh,useContext:qe,useEffect:bo,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:ja,useRef:oh,useState:function(){return ja(Jn)},useDebugValue:No,useDeferredValue:function(e){var t=Qe();return ph(t,se.memoizedState,e)},useTransition:function(){var e=ja(Jn)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:rh,useId:gh,unstable_isNewReconciler:!1},Mp={readContext:qe,useCallback:fh,useContext:qe,useEffect:bo,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:_a,useRef:oh,useState:function(){return _a(Jn)},useDebugValue:No,useDeferredValue:function(e){var t=Qe();return se===null?t.memoizedState=e:ph(t,se.memoizedState,e)},useTransition:function(){var e=_a(Jn)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:rh,useId:gh,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ri={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Ht(e),i=gt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,s),t!==null&&(nt(t,e,s,n),Bs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Ht(e),i=gt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,s),t!==null&&(nt(t,e,s,n),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Ht(e),s=gt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ft(e,s,n),t!==null&&(nt(t,e,n,r),Bs(t,e,n))}};function Mc(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Hn(r,n)||!Hn(s,i):!0}function wh(e,t,r){var n=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Ae(t)?hr:ve.current,n=t.contextTypes,i=(n=n!=null)?Qr(e,s):Qt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ri,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ri.enqueueReplaceState(t,t.state,null)}function hl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},go(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Ae(t)?hr:ve.current,s.context=Qr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ri.enqueueReplaceState(s,s.state,null),di(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",n=t;do r+=mm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ba(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fp=typeof WeakMap=="function"?WeakMap:Map;function jh(e,t,r){r=gt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gi||(gi=!0,bl=n),fl(e,t)},r}function _h(e,t,r){r=gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){fl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fl(e,t),typeof n!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Bc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=tg.bind(null,e,t,r),t.then(e,e))}function Hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gt(-1,1),t.tag=2,Ft(r,t,1))),r.lanes|=1),e)}var Bp=bt.ReactCurrentOwner,Pe=!1;function je(e,t,r,n){t.child=e===null?Xd(t,null,r,n):Kr(t,e.child,r,n)}function Wc(e,t,r,n,s){r=r.render;var i=t.ref;return Hr(t,s),n=jo(e,t,r,n,i,s),r=_o(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(q&&r&&oo(t),t.flags|=1,je(e,t,n,s),t.child)}function qc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Oo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bh(e,t,i,n,s)):(e=Gs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hn,r(l,n)&&e.ref===t.ref)return _t(e,t,s)}return t.flags|=1,e=Vt(i,n),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Hn(i,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,_t(e,t,s)}return ml(e,t,r,n,s)}function Nh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Dr,Re),Re|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(Dr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(Dr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,H(Dr,Re),Re|=n;return je(e,t,s,r),t.child}function kh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,r,n,s){var i=Ae(r)?hr:ve.current;return i=Qr(t,i),Hr(t,s),r=jo(e,t,r,n,i,s),n=_o(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(q&&n&&oo(t),t.flags|=1,je(e,t,r,s),t.child)}function Qc(e,t,r,n,s){if(Ae(r)){var i=!0;ai(t)}else i=!1;if(Hr(t,s),t.stateNode===null)Ws(e,t),wh(t,r,n),hl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Ae(r)?hr:ve.current,u=Qr(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Fc(t,l,n,u),Pt=!1;var f=t.memoizedState;l.state=f,di(t,n,l,s),c=t.memoizedState,o!==n||f!==c||Te.current||Pt?(typeof d=="function"&&(dl(t,r,d,n),c=t.memoizedState),(o=Pt||Mc(t,r,o,n,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Zd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ye(t.type,o),l.props=u,h=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=qe(c):(c=Ae(r)?hr:ve.current,c=Qr(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Fc(t,l,n,c),Pt=!1,f=t.memoizedState,l.state=f,di(t,n,l,s);var w=t.memoizedState;o!==h||f!==w||Te.current||Pt?(typeof y=="function"&&(dl(t,r,y,n),w=t.memoizedState),(u=Pt||Mc(t,r,u,n,f,w,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,w,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),l.props=n,l.state=w,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return pl(e,t,r,n,i,s)}function pl(e,t,r,n,s,i){kh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Oc(t,r,!1),_t(e,t,i);n=t.stateNode,Bp.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Kr(t,e.child,null,i),t.child=Kr(t,null,o,i)):je(e,t,o,i),t.memoizedState=n.state,s&&Oc(t,r,!0),t.child}function Sh(e){var t=e.stateNode;t.pendingContext?Ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ac(e,t.context,!1),yo(e,t.containerInfo)}function Gc(e,t,r,n,s){return Gr(),uo(s),t.flags|=256,je(e,t,r,n),t.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eh(e,t,r){var n=t.pendingProps,s=G.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(G,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Li(l,n,0,null),e=dr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yl(r),t.memoizedState=gl,e):ko(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Hp(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Vt(o,i):(i=dr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?yl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=gl,n}return i=e.child,e=i.sibling,n=Vt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ko(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,n){return n!==null&&uo(n),Kr(t,e.child,null,r),e=ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hp(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=ba(Error(E(422))),Ss(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Li({mode:"visible",children:n.children},s,0,null),i=dr(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Kr(t,e.child,null,l),t.child.memoizedState=yl(l),t.memoizedState=gl,i);if(!(t.mode&1))return Ss(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(E(419)),n=ba(i,n,void 0),Ss(e,t,l,n)}if(o=(l&e.childLanes)!==0,Pe||o){if(n=ue,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(e,s),nt(n,e,s,-1))}return Ao(),n=ba(Error(E(421))),Ss(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ue=Mt(s.nextSibling),Le=t,q=!0,tt=null,e!==null&&(Fe[Be++]=mt,Fe[Be++]=pt,Fe[Be++]=fr,mt=e.id,pt=e.overflow,fr=t),t=ko(t,n.children),t.flags|=4096,t)}function Kc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ul(e.return,t,r)}function Na(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ch(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(je(e,t,n.children,r),n=G.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,r,t);else if(e.tag===19)Kc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(G,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&hi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Na(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Na(t,!0,r,null,i);break;case"together":Na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Vt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vp(e,t,r){switch(t.tag){case 3:Sh(t),Gr();break;case 5:eh(t);break;case 1:Ae(t.type)&&ai(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;H(ci,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(G,G.current&1),t.flags|=128,null):r&t.child.childLanes?Eh(e,t,r):(H(G,G.current&1),e=_t(e,t,r),e!==null?e.sibling:null);H(G,G.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ch(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(G,G.current),n)break;return null;case 22:case 23:return t.lanes=0,Nh(e,t,r)}return _t(e,t,r)}var Ph,vl,Th,Ah;Ph=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vl=function(){};Th=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,or(ct.current);var i=null;switch(r){case"input":s=Ma(e,s),n=Ma(e,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=Ha(e,s),n=Ha(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=si)}Wa(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ln.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&V("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ah=function(e,t,r,n){r!==n&&(t.flags|=4)};function pn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Wp(e,t,r){var n=t.pendingProps;switch(co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Ae(t.type)&&ii(),ge(t),null;case 3:return n=t.stateNode,Jr(),W(Te),W(ve),xo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(Sl(tt),tt=null))),vl(e,t),ge(t),null;case 5:vo(t);var s=or(Gn.current);if(r=t.type,e!==null&&t.stateNode!=null)Th(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ge(t),null}if(e=or(ct.current),Ns(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lt]=t,n[qn]=i,e=(t.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<_n.length;s++)V(_n[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":sc(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":ac(n,i),V("invalid",n)}Wa(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&bs(n.textContent,o,e),s=["children",""+o]):Ln.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&V("scroll",n)}switch(r){case"input":ps(n),ic(n,i,!0);break;case"textarea":ps(n),lc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=si)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=id(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[lt]=t,e[qn]=n,Ph(e,t,!1,!1),t.stateNode=e;e:{switch(l=qa(r,n),r){case"dialog":V("cancel",e),V("close",e),s=n;break;case"iframe":case"object":case"embed":V("load",e),s=n;break;case"video":case"audio":for(s=0;s<_n.length;s++)V(_n[s],e);s=n;break;case"source":V("error",e),s=n;break;case"img":case"image":case"link":V("error",e),V("load",e),s=n;break;case"details":V("toggle",e),s=n;break;case"input":sc(e,n),s=Ma(e,n),V("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),V("invalid",e);break;case"textarea":ac(e,n),s=Ha(e,n),V("invalid",e);break;default:s=n}Wa(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?od(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ad(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$n(e,c):typeof c=="number"&&$n(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?c!=null&&i==="onScroll"&&V("scroll",e):c!=null&&Gl(e,i,c,l))}switch(r){case"input":ps(e),ic(e,n,!1);break;case"textarea":ps(e),lc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?zr(e,!!n.multiple,i,!1):n.defaultValue!=null&&zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=si)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Ah(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=or(Gn.current),or(ct.current),Ns(t)){if(n=t.stateNode,r=t.memoizedProps,n[lt]=t,(i=n.nodeValue!==r)&&(e=Le,e!==null))switch(e.tag){case 3:bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=t,t.stateNode=n}return ge(t),null;case 13:if(W(G),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ue!==null&&t.mode&1&&!(t.flags&128))Kd(),Gr(),t.flags|=98560,i=!1;else if(i=Ns(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[lt]=t}else Gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else tt!==null&&(Sl(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?ie===0&&(ie=3):Ao())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Jr(),vl(e,t),e===null&&Vn(t.stateNode.containerInfo),ge(t),null;case 10:return mo(t.type._context),ge(t),null;case 17:return Ae(t.type)&&ii(),ge(t),null;case 19:if(W(G),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)pn(i,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=hi(e),l!==null){for(t.flags|=128,pn(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&Z()>Yr&&(t.flags|=128,n=!0,pn(i,!1),t.lanes=4194304)}else{if(!n)if(e=hi(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!q)return ge(t),null}else 2*Z()-i.renderingStartTime>Yr&&r!==1073741824&&(t.flags|=128,n=!0,pn(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Z(),t.sibling=null,r=G.current,H(G,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return To(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Re&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function qp(e,t){switch(co(t),t.tag){case 1:return Ae(t.type)&&ii(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(),W(Te),W(ve),xo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vo(t),null;case 13:if(W(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(G),null;case 4:return Jr(),null;case 10:return mo(t.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var Es=!1,ye=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,T=null;function $r(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){X(e,t,n)}else r.current=null}function xl(e,t,r){try{r()}catch(n){X(e,t,n)}}var Jc=!1;function Gp(e,t){if(rl=ti,e=Ld(),lo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=l+s),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=l),f===i&&++d===n&&(c=l),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nl={focusedElem:e,selectionRange:r},ti=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ye(t.type,x),j);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){X(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return w=Jc,Jc=!1,w}function Tn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xl(t,r,i)}s=s.next}while(s!==n)}}function Ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Oh(e){var t=e.alternate;t!==null&&(e.alternate=null,Oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[qn],delete t[al],delete t[Tp],delete t[Ap])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function Xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=si));else if(n!==4&&(e=e.child,e!==null))for(jl(e,t,r),e=e.sibling;e!==null;)jl(e,t,r),e=e.sibling}function _l(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_l(e,t,r),e=e.sibling;e!==null;)_l(e,t,r),e=e.sibling}var he=null,Ze=!1;function St(e,t,r){for(r=r.child;r!==null;)Ih(e,t,r),r=r.sibling}function Ih(e,t,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Si,r)}catch{}switch(r.tag){case 5:ye||$r(r,t);case 6:var n=he,s=Ze;he=null,St(e,t,r),he=n,Ze=s,he!==null&&(Ze?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Ze?(e=he,r=r.stateNode,e.nodeType===8?ya(e.parentNode,r):e.nodeType===1&&ya(e,r),Fn(e)):ya(he,r.stateNode));break;case 4:n=he,s=Ze,he=r.stateNode.containerInfo,Ze=!0,St(e,t,r),he=n,Ze=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&xl(r,t,l),s=s.next}while(s!==n)}St(e,t,r);break;case 1:if(!ye&&($r(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){X(r,t,o)}St(e,t,r);break;case 21:St(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,St(e,t,r),ye=n):St(e,t,r);break;default:St(e,t,r)}}function Yc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qp),t.forEach(function(n){var s=ng.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:he=o.stateNode,Ze=!1;break e;case 3:he=o.stateNode.containerInfo,Ze=!0;break e;case 4:he=o.stateNode.containerInfo,Ze=!0;break e}o=o.return}if(he===null)throw Error(E(160));Ih(i,l,s),he=null,Ze=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){X(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uh(t,e),t=t.sibling}function Uh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),it(e),n&4){try{Tn(3,e,e.return),Ii(3,e)}catch(x){X(e,e.return,x)}try{Tn(5,e,e.return)}catch(x){X(e,e.return,x)}}break;case 1:Ke(t,e),it(e),n&512&&r!==null&&$r(r,r.return);break;case 5:if(Ke(t,e),it(e),n&512&&r!==null&&$r(r,r.return),e.flags&32){var s=e.stateNode;try{$n(s,"")}catch(x){X(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&nd(s,i),qa(o,l);var u=qa(o,i);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?od(s,h):d==="dangerouslySetInnerHTML"?ad(s,h):d==="children"?$n(s,h):Gl(s,d,h,u)}switch(o){case"input":Fa(s,i);break;case"textarea":sd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?zr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?zr(s,!!i.multiple,i.defaultValue,!0):zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[qn]=i}catch(x){X(e,e.return,x)}}break;case 6:if(Ke(t,e),it(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){X(e,e.return,x)}}break;case 3:if(Ke(t,e),it(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(x){X(e,e.return,x)}break;case 4:Ke(t,e),it(e);break;case 13:Ke(t,e),it(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Co=Z())),n&4&&Yc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(u=ye)||d,Ke(t,e),ye=u):Ke(t,e),it(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,y=f.child,f.tag){case 0:case 11:case 14:case 15:Tn(4,f,f.return);break;case 1:$r(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){X(n,r,x)}}break;case 5:$r(f,f.return);break;case 22:if(f.memoizedState!==null){eu(h);continue}}y!==null?(y.return=f,T=y):eu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ld("display",l))}catch(x){X(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){X(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),it(e),n&4&&Yc(e);break;case 21:break;default:Ke(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($n(s,""),n.flags&=-33);var i=Xc(e);_l(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Xc(e);jl(e,o,l);break;default:throw Error(E(161))}}catch(c){X(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kp(e,t,r){T=e,Lh(e)}function Lh(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Es;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||ye;o=Es;var u=ye;if(Es=l,(ye=c)&&!u)for(T=s;T!==null;)l=T,c=l.child,l.tag===22&&l.memoizedState!==null?tu(s):c!==null?(c.return=l,T=c):tu(s);for(;i!==null;)T=i,Lh(i),i=i.sibling;T=s,Es=o,ye=u}Zc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Zc(e)}}function Zc(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Ii(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$c(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$c(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||t.flags&512&&wl(t)}catch(f){X(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function eu(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function tu(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ii(4,t)}catch(c){X(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){X(t,s,c)}}var i=t.return;try{wl(t)}catch(c){X(t,i,c)}break;case 5:var l=t.return;try{wl(t)}catch(c){X(t,l,c)}}}catch(c){X(t,t.return,c)}if(t===e){T=null;break}var o=t.sibling;if(o!==null){o.return=t.return,T=o;break}T=t.return}}var Jp=Math.ceil,pi=bt.ReactCurrentDispatcher,So=bt.ReactCurrentOwner,Ve=bt.ReactCurrentBatchConfig,M=0,ue=null,ne=null,fe=0,Re=0,Dr=Kt(0),ie=0,Yn=null,pr=0,Ui=0,Eo=0,An=null,Ee=null,Co=0,Yr=1/0,dt=null,gi=!1,bl=null,Bt=null,Cs=!1,Ut=null,yi=0,On=0,Nl=null,qs=-1,Qs=0;function _e(){return M&6?Z():qs!==-1?qs:qs=Z()}function Ht(e){return e.mode&1?M&2&&fe!==0?fe&-fe:Rp.transition!==null?(Qs===0&&(Qs=wd()),Qs):(e=F,e!==0||(e=window.event,e=e===void 0?16:Ed(e.type)),e):1}function nt(e,t,r,n){if(50<On)throw On=0,Nl=null,Error(E(185));ss(e,r,n),(!(M&2)||e!==ue)&&(e===ue&&(!(M&2)&&(Ui|=r),ie===4&&Ot(e,fe)),Oe(e,n),r===1&&M===0&&!(t.mode&1)&&(Yr=Z()+500,Ai&&Jt()))}function Oe(e,t){var r=e.callbackNode;Rm(e,t);var n=ei(e,e===ue?fe:0);if(n===0)r!==null&&uc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uc(r),t===1)e.tag===0?Op(ru.bind(null,e)):qd(ru.bind(null,e)),Cp(function(){!(M&6)&&Jt()}),r=null;else{switch(jd(n)){case 1:r=Zl;break;case 4:r=vd;break;case 16:r=Zs;break;case 536870912:r=xd;break;default:r=Zs}r=Vh(r,$h.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $h(e,t){if(qs=-1,Qs=0,M&6)throw Error(E(327));var r=e.callbackNode;if(Vr()&&e.callbackNode!==r)return null;var n=ei(e,e===ue?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vi(e,n);else{t=n;var s=M;M|=2;var i=zh();(ue!==e||fe!==t)&&(dt=null,Yr=Z()+500,ur(e,t));do try{Zp();break}catch(o){Dh(e,o)}while(1);fo(),pi.current=i,M=s,ne!==null?t=0:(ue=null,fe=0,t=ie)}if(t!==0){if(t===2&&(s=Xa(e),s!==0&&(n=s,t=kl(e,s))),t===1)throw r=Yn,ur(e,0),Ot(e,n),Oe(e,Z()),r;if(t===6)Ot(e,n);else{if(s=e.current.alternate,!(n&30)&&!Xp(s)&&(t=vi(e,n),t===2&&(i=Xa(e),i!==0&&(n=i,t=kl(e,i))),t===1))throw r=Yn,ur(e,0),Ot(e,n),Oe(e,Z()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:nr(e,Ee,dt);break;case 3:if(Ot(e,n),(n&130023424)===n&&(t=Co+500-Z(),10<t)){if(ei(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=il(nr.bind(null,e,Ee,dt),t);break}nr(e,Ee,dt);break;case 4:if(Ot(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-rt(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=Z()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jp(n/1960))-n,10<n){e.timeoutHandle=il(nr.bind(null,e,Ee,dt),n);break}nr(e,Ee,dt);break;case 5:nr(e,Ee,dt);break;default:throw Error(E(329))}}}return Oe(e,Z()),e.callbackNode===r?$h.bind(null,e):null}function kl(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(ur(e,t).flags|=256),e=vi(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Sl(t)),e}function Sl(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function Xp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ot(e,t){for(t&=~Eo,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),n=1<<r;e[r]=-1,t&=~n}}function ru(e){if(M&6)throw Error(E(327));Vr();var t=ei(e,0);if(!(t&1))return Oe(e,Z()),null;var r=vi(e,t);if(e.tag!==0&&r===2){var n=Xa(e);n!==0&&(t=n,r=kl(e,n))}if(r===1)throw r=Yn,ur(e,0),Ot(e,t),Oe(e,Z()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,Ee,dt),Oe(e,Z()),null}function Po(e,t){var r=M;M|=1;try{return e(t)}finally{M=r,M===0&&(Yr=Z()+500,Ai&&Jt())}}function gr(e){Ut!==null&&Ut.tag===0&&!(M&6)&&Vr();var t=M;M|=1;var r=Ve.transition,n=F;try{if(Ve.transition=null,F=1,e)return e()}finally{F=n,Ve.transition=r,M=t,!(M&6)&&Jt()}}function To(){Re=Dr.current,W(Dr)}function ur(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ep(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(co(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ii();break;case 3:Jr(),W(Te),W(ve),xo();break;case 5:vo(n);break;case 4:Jr();break;case 13:W(G);break;case 19:W(G);break;case 10:mo(n.type._context);break;case 22:case 23:To()}r=r.return}if(ue=e,ne=e=Vt(e.current,null),fe=Re=t,ie=0,Yn=null,Eo=Ui=pr=0,Ee=An=null,lr!==null){for(t=0;t<lr.length;t++)if(r=lr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}lr=null}return e}function Dh(e,t){do{var r=ne;try{if(fo(),Hs.current=mi,fi){for(var n=K.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fi=!1}if(mr=0,oe=se=K=null,Pn=!1,Kn=0,So.current=null,r===null||r.return===null){ie=1,Yn=t,ne=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=fe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Hc(l);if(y!==null){y.flags&=-257,Vc(y,l,o,i,t),y.mode&1&&Bc(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Bc(i,u,t),Ao();break e}c=Error(E(426))}}else if(q&&o.mode&1){var j=Hc(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Vc(j,l,o,i,t),uo(Xr(c,o));break e}}i=c=Xr(c,o),ie!==4&&(ie=2),An===null?An=[i]:An.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=jh(i,c,t);Lc(i,m);break e;case 1:o=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bt===null||!Bt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=_h(i,o,t);Lc(i,b);break e}}i=i.return}while(i!==null)}Fh(r)}catch(S){t=S,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(1)}function zh(){var e=pi.current;return pi.current=mi,e===null?mi:e}function Ao(){(ie===0||ie===3||ie===2)&&(ie=4),ue===null||!(pr&268435455)&&!(Ui&268435455)||Ot(ue,fe)}function vi(e,t){var r=M;M|=2;var n=zh();(ue!==e||fe!==t)&&(dt=null,ur(e,t));do try{Yp();break}catch(s){Dh(e,s)}while(1);if(fo(),M=r,pi.current=n,ne!==null)throw Error(E(261));return ue=null,fe=0,ie}function Yp(){for(;ne!==null;)Mh(ne)}function Zp(){for(;ne!==null&&!Nm();)Mh(ne)}function Mh(e){var t=Hh(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?Fh(e):ne=t,So.current=null}function Fh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qp(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,ne=null;return}}else if(r=Wp(r,t,Re),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ie===0&&(ie=5)}function nr(e,t,r){var n=F,s=Ve.transition;try{Ve.transition=null,F=1,eg(e,t,r,n)}finally{Ve.transition=s,F=n}return null}function eg(e,t,r,n){do Vr();while(Ut!==null);if(M&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Im(e,i),e===ue&&(ne=ue=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,Vh(Zs,function(){return Vr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var l=F;F=1;var o=M;M|=4,So.current=null,Gp(e,r),Uh(r,e),wp(nl),ti=!!rl,nl=rl=null,e.current=r,Kp(r),km(),M=o,F=l,Ve.transition=i}else e.current=r;if(Cs&&(Cs=!1,Ut=e,yi=s),i=e.pendingLanes,i===0&&(Bt=null),Cm(r.stateNode),Oe(e,Z()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(gi)throw gi=!1,e=bl,bl=null,e;return yi&1&&e.tag!==0&&Vr(),i=e.pendingLanes,i&1?e===Nl?On++:(On=0,Nl=e):On=0,Jt(),null}function Vr(){if(Ut!==null){var e=jd(yi),t=Ve.transition,r=F;try{if(Ve.transition=null,F=16>e?16:e,Ut===null)var n=!1;else{if(e=Ut,Ut=null,yi=0,M&6)throw Error(E(331));var s=M;for(M|=4,T=e.current;T!==null;){var i=T,l=i.child;if(T.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Tn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,y=d.return;if(Oh(d),d===u){T=null;break}if(f!==null){f.return=y,T=f;break}T=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}T=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,T=l;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=e.current;for(T=p;T!==null;){l=T;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,T=g;else e:for(l=p;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ii(9,o)}}catch(S){X(o,o.return,S)}if(o===l){T=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,T=b;break e}T=o.return}}if(M=s,Jt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Si,e)}catch{}n=!0}return n}finally{F=r,Ve.transition=t}}return!1}function nu(e,t,r){t=Xr(r,t),t=jh(e,t,1),e=Ft(e,t,1),t=_e(),e!==null&&(ss(e,1,t),Oe(e,t))}function X(e,t,r){if(e.tag===3)nu(e,e,r);else for(;t!==null;){if(t.tag===3){nu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bt===null||!Bt.has(n))){e=Xr(r,e),e=_h(t,e,1),t=Ft(t,e,1),e=_e(),t!==null&&(ss(t,1,e),Oe(t,e));break}}t=t.return}}function tg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,ue===e&&(fe&r)===r&&(ie===4||ie===3&&(fe&130023424)===fe&&500>Z()-Co?ur(e,0):Eo|=r),Oe(e,t)}function Bh(e,t){t===0&&(e.mode&1?(t=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):t=1);var r=_e();e=jt(e,t),e!==null&&(ss(e,t,r),Oe(e,r))}function rg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Bh(e,r)}function ng(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Bh(e,r)}var Hh;Hh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,Vp(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,q&&t.flags&1048576&&Qd(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ws(e,t),e=t.pendingProps;var s=Qr(t,ve.current);Hr(t,r),s=jo(null,t,n,e,s,r);var i=_o();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(n)?(i=!0,ai(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,go(t),s.updater=Ri,t.stateNode=s,s._reactInternals=t,hl(t,n,e,r),t=pl(null,t,n,!0,i,r)):(t.tag=0,q&&i&&oo(t),je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ig(n),e=Ye(n,e),s){case 0:t=ml(null,t,n,e,r);break e;case 1:t=Qc(null,t,n,e,r);break e;case 11:t=Wc(null,t,n,e,r);break e;case 14:t=qc(null,t,n,Ye(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),ml(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Qc(e,t,n,s,r);case 3:e:{if(Sh(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Zd(e,t),di(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xr(Error(E(423)),t),t=Gc(e,t,n,r,s);break e}else if(n!==s){s=Xr(Error(E(424)),t),t=Gc(e,t,n,r,s);break e}else for(Ue=Mt(t.stateNode.containerInfo.firstChild),Le=t,q=!0,tt=null,r=Xd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),n===s){t=_t(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return eh(t),e===null&&cl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,sl(n,s)?l=null:i!==null&&sl(n,i)&&(t.flags|=32),kh(e,t),je(e,t,l,r),t.child;case 6:return e===null&&cl(t),null;case 13:return Eh(e,t,r);case 4:return yo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kr(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Wc(e,t,n,s,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,H(ci,n._currentValue),n._currentValue=l,i!==null)if(st(i.value,l)){if(i.children===s.children&&!Te.current){t=_t(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=gt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ul(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ul(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Hr(t,r),s=qe(s),n=n(s),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,s=Ye(n,t.pendingProps),s=Ye(n.type,s),qc(e,t,n,s,r);case 15:return bh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Ws(e,t),t.tag=1,Ae(n)?(e=!0,ai(t)):e=!1,Hr(t,r),wh(t,n,s),hl(t,n,s,r),pl(null,t,n,!0,e,r);case 19:return Ch(e,t,r);case 22:return Nh(e,t,r)}throw Error(E(156,t.tag))};function Vh(e,t){return yd(e,t)}function sg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new sg(e,t,r,n)}function Oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ig(e){if(typeof e=="function")return Oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Xl)return 14}return 2}function Vt(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Oo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Cr:return dr(r.children,s,i,t);case Kl:l=8,s|=8;break;case La:return e=He(12,r,t,s|2),e.elementType=La,e.lanes=i,e;case $a:return e=He(13,r,t,s),e.elementType=$a,e.lanes=i,e;case Da:return e=He(19,r,t,s),e.elementType=Da,e.lanes=i,e;case ed:return Li(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yu:l=10;break e;case Zu:l=9;break e;case Jl:l=11;break e;case Xl:l=14;break e;case Ct:l=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=He(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function dr(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function Li(e,t,r,n){return e=He(22,e,n,t),e.elementType=ed,e.lanes=r,e.stateNode={isHidden:!1},e}function ka(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function Sa(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ag(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ro(e,t,r,n,s,i,l,o,c){return e=new ag(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},go(i),e}function lg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Wh(e){if(!e)return Qt;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ae(r))return Wd(e,r,t)}return t}function qh(e,t,r,n,s,i,l,o,c){return e=Ro(r,n,!0,e,s,i,l,o,c),e.context=Wh(null),r=e.current,n=_e(),s=Ht(r),i=gt(n,s),i.callback=t??null,Ft(r,i,s),e.current.lanes=s,ss(e,s,n),Oe(e,n),e}function $i(e,t,r,n){var s=t.current,i=_e(),l=Ht(s);return r=Wh(r),t.context===null?t.context=r:t.pendingContext=r,t=gt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ft(s,t,l),e!==null&&(nt(e,s,l,i),Bs(e,s,l)),l}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Io(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function og(){return null}var Qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uo(e){this._internalRoot=e}Di.prototype.render=Uo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));$i(e,t,null,null)};Di.prototype.unmount=Uo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){$i(null,e,null,null)}),t[wt]=null}};function Di(e){this._internalRoot=e}Di.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<At.length&&t!==0&&t<At[r].priority;r++);At.splice(r,0,e),r===0&&Sd(e)}};function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function cg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=xi(l);i.call(u)}}var l=qh(t,n,e,0,null,!1,!1,"",iu);return e._reactRootContainer=l,e[wt]=l.current,Vn(e.nodeType===8?e.parentNode:e),gr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=xi(c);o.call(u)}}var c=Ro(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=c,e[wt]=c.current,Vn(e.nodeType===8?e.parentNode:e),gr(function(){$i(t,c,r,n)}),c}function Mi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=xi(l);o.call(c)}}$i(t,l,e,s)}else l=cg(r,t,e,s,n);return xi(l)}_d=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jn(t.pendingLanes);r!==0&&(eo(t,r|1),Oe(t,Z()),!(M&6)&&(Yr=Z()+500,Jt()))}break;case 13:gr(function(){var n=jt(e,1);if(n!==null){var s=_e();nt(n,e,1,s)}}),Io(e,1)}};to=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var r=_e();nt(t,e,134217728,r)}Io(e,134217728)}};bd=function(e){if(e.tag===13){var t=Ht(e),r=jt(e,t);if(r!==null){var n=_e();nt(r,e,t,n)}Io(e,t)}};Nd=function(){return F};kd=function(e,t){var r=F;try{return F=e,t()}finally{F=r}};Ga=function(e,t,r){switch(t){case"input":if(Fa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ti(n);if(!s)throw Error(E(90));rd(n),Fa(n,s)}}}break;case"textarea":sd(e,r);break;case"select":t=r.value,t!=null&&zr(e,!!r.multiple,t,!1)}};dd=Po;hd=gr;var ug={usingClientEntryPoint:!1,Events:[as,Or,Ti,cd,ud,Po]},gn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dg={bundleType:gn.bundleType,version:gn.version,rendererPackageName:gn.rendererPackageName,rendererConfig:gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:gn.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{Si=Ps.inject(dg),ot=Ps}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lo(t))throw Error(E(200));return lg(e,t,null,r)};ze.createRoot=function(e,t){if(!Lo(e))throw Error(E(299));var r=!1,n="",s=Qh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ro(e,1,!1,null,null,r,!1,n,s),e[wt]=t.current,Vn(e.nodeType===8?e.parentNode:e),new Uo(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=pd(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return gr(e)};ze.hydrate=function(e,t,r){if(!zi(t))throw Error(E(200));return Mi(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!Lo(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Qh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=qh(t,null,e,1,r??null,s,!1,i,l),e[wt]=t.current,Vn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Di(t)};ze.render=function(e,t,r){if(!zi(t))throw Error(E(200));return Mi(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!zi(e))throw Error(E(40));return e._reactRootContainer?(gr(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};ze.unstable_batchedUpdates=Po;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zi(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Mi(e,t,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function Gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gh)}catch(e){console.error(e)}}Gh(),Gu.exports=ze;var hg=Gu.exports,au=hg;Ia.createRoot=au.createRoot,Ia.hydrateRoot=au.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(this,arguments)}var Lt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lt||(Lt={}));const lu="popstate";function fg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:l,hash:o}=n.location;return El("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:wi(s)}return pg(t,r,null,e)}function ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mg(){return Math.random().toString(36).substr(2,8)}function ou(e,t){return{usr:e.state,key:e.key,idx:t}}function El(e,t,r,n){return r===void 0&&(r=null),Zn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:r,key:t&&t.key||n||mg()})}function wi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function pg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,o=Lt.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Zn({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function h(){o=Lt.Pop;let j=d(),m=j==null?null:j-u;u=j,c&&c({action:o,location:x.location,delta:m})}function f(j,m){o=Lt.Push;let p=El(x.location,j,m);r&&r(p,j),u=d()+1;let g=ou(p,u),b=x.createHref(p);try{l.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:o,location:x.location,delta:1})}function y(j,m){o=Lt.Replace;let p=El(x.location,j,m);r&&r(p,j),u=d();let g=ou(p,u),b=x.createHref(p);l.replaceState(g,"",b),i&&c&&c({action:o,location:x.location,delta:0})}function w(j){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:wi(j);return p=p.replace(/ $/,"%20"),ee(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let x={get action(){return o},get location(){return e(s,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lu,h),c=j,()=>{s.removeEventListener(lu,h),c=null}},createHref(j){return t(s,j)},createURL:w,encodeLocation(j){let m=w(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:y,go(j){return l.go(j)}};return x}var cu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cu||(cu={}));function gg(e,t,r){return r===void 0&&(r="/"),yg(e,t,r,!1)}function yg(e,t,r,n){let s=typeof t=="string"?nn(t):t,i=$o(s.pathname||"/",r);if(i==null)return null;let l=Jh(e);vg(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Pg(i);o=Eg(l[c],u,n)}return o}function Jh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(ee(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Wt([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jh(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:kg(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of Xh(i.path))s(i,l,c)}),t}function Xh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=Xh(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function vg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xg=/^:[\w-]+$/,wg=3,jg=2,_g=1,bg=10,Ng=-2,uu=e=>e==="*";function kg(e,t){let r=e.split("/"),n=r.length;return r.some(uu)&&(n+=Ng),t&&(n+=jg),r.filter(s=>!uu(s)).reduce((s,i)=>s+(xg.test(i)?wg:i===""?_g:bg),n)}function Sg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Eg(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=du({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=du({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),l.push({params:s,pathname:Wt([i,h.pathname]),pathnameBase:Rg(Wt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Wt([i,h.pathnameBase]))}return l}function du(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Cg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let x=o[h]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=o[h];return y&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Cg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Pg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $o(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Tg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?nn(e):e;return{pathname:r?r.startsWith("/")?r:Ag(r,t):t,search:Ig(n),hash:Ug(s)}}function Ag(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ea(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Og(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Do(e,t){let r=Og(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zo(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=nn(e):(s=Zn({},e),ee(!s.pathname||!s.pathname.includes("?"),Ea("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),Ea("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),Ea("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Tg(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Wt=e=>e.join("/").replace(/\/\/+/g,"/"),Rg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ig=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ug=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yh=["post","put","patch","delete"];new Set(Yh);const $g=["get",...Yh];new Set($g);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}const Mo=N.createContext(null),Dg=N.createContext(null),Xt=N.createContext(null),Fi=N.createContext(null),Nt=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=N.createContext(null);function zg(e,t){let{relative:r}=t===void 0?{}:t;sn()||ee(!1);let{basename:n,navigator:s}=N.useContext(Xt),{hash:i,pathname:l,search:o}=tf(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:Wt([n,l])),s.createHref({pathname:c,search:o,hash:i})}function sn(){return N.useContext(Fi)!=null}function xr(){return sn()||ee(!1),N.useContext(Fi).location}function ef(e){N.useContext(Xt).static||N.useLayoutEffect(e)}function kt(){let{isDataRoute:e}=N.useContext(Nt);return e?Zg():Mg()}function Mg(){sn()||ee(!1);let e=N.useContext(Mo),{basename:t,future:r,navigator:n}=N.useContext(Xt),{matches:s}=N.useContext(Nt),{pathname:i}=xr(),l=JSON.stringify(Do(s,r.v7_relativeSplatPath)),o=N.useRef(!1);return ef(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=zo(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Wt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,l,i,e])}function Fg(){let{matches:e}=N.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function tf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Xt),{matches:s}=N.useContext(Nt),{pathname:i}=xr(),l=JSON.stringify(Do(s,n.v7_relativeSplatPath));return N.useMemo(()=>zo(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function Bg(e,t){return Hg(e,t)}function Hg(e,t,r,n){sn()||ee(!1);let{navigator:s}=N.useContext(Xt),{matches:i}=N.useContext(Nt),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=xr(),d;if(t){var h;let j=typeof t=="string"?nn(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||ee(!1),d=j}else d=u;let f=d.pathname||"/",y=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=gg(e,{pathname:y}),x=Gg(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Wt([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Wt([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&x?N.createElement(Fi.Provider,{value:{location:es({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lt.Pop}},x):x}function Vg(){let e=Yg(),t=Lg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,i)}const Wg=N.createElement(Vg,null);class qg extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Nt.Provider,{value:this.props.routeContext},N.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qg(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(Mo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Nt.Provider,{value:t},n)}function Gg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ee(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:y}=r,w=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,h,f)=>{let y,w=!1,x=null,j=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||Wg,c&&(u<0&&f===0?(e0("route-fallback",!1),w=!0,j=null):u===f&&(w=!0,j=h.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,f+1)),p=()=>{let g;return y?g=x:w?g=j:h.route.Component?g=N.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,N.createElement(Qg,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(qg,{location:r.location,revalidation:r.revalidation,component:x,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var rf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rf||{}),ji=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ji||{});function Kg(e){let t=N.useContext(Mo);return t||ee(!1),t}function Jg(e){let t=N.useContext(Dg);return t||ee(!1),t}function Xg(e){let t=N.useContext(Nt);return t||ee(!1),t}function nf(e){let t=Xg(),r=t.matches[t.matches.length-1];return r.route.id||ee(!1),r.route.id}function Yg(){var e;let t=N.useContext(Zh),r=Jg(ji.UseRouteError),n=nf(ji.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Zg(){let{router:e}=Kg(rf.UseNavigateStable),t=nf(ji.UseNavigateStable),r=N.useRef(!1);return ef(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,es({fromRouteId:t},i)))},[e,t])}const hu={};function e0(e,t,r){!t&&!hu[e]&&(hu[e]=!0)}function t0(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function r0(e){let{to:t,replace:r,state:n,relative:s}=e;sn()||ee(!1);let{future:i,static:l}=N.useContext(Xt),{matches:o}=N.useContext(Nt),{pathname:c}=xr(),u=kt(),d=zo(t,Do(o,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Je(e){ee(!1)}function n0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Lt.Pop,navigator:i,static:l=!1,future:o}=e;sn()&&ee(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:l,future:es({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=nn(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:w="default"}=n,x=N.useMemo(()=>{let j=$o(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:y,key:w},navigationType:s}},[c,d,h,f,y,w,s]);return x==null?null:N.createElement(Xt.Provider,{value:u},N.createElement(Fi.Provider,{children:r,value:x}))}function s0(e){let{children:t,location:r}=e;return Bg(Cl(t),r)}new Promise(()=>{});function Cl(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,Cl(n.props.children,i));return}n.type!==Je&&ee(!1),!n.props.index||!n.props.children||ee(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Cl(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function i0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function a0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l0(e,t){return e.button===0&&(!t||t==="_self")&&!a0(e)}const o0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c0="6";try{window.__reactRouterVersion=c0}catch{}const u0="startTransition",fu=tm[u0];function d0(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=fg({window:s,v5Compat:!0}));let l=i.current,[o,c]=N.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=N.useCallback(h=>{u&&fu?fu(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>l.listen(d),[l,d]),N.useEffect(()=>t0(n),[n]),N.createElement(n0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=i0(t,o0),{basename:y}=N.useContext(Xt),w,x=!1;if(typeof u=="string"&&f0.test(u)&&(w=u,h0))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=$o(b.pathname,y);b.origin===g.origin&&S!=null?u=S+b.search+b.hash:x=!0}catch{}let j=zg(u,{relative:s}),m=m0(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return N.createElement("a",Pl({},f,{href:w||j,onClick:x||i?n:p,ref:r,target:c}))});var mu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mu||(mu={}));var pu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pu||(pu={}));function m0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=kt(),u=xr(),d=tf(e,{relative:l});return N.useCallback(h=>{if(l0(h,r)){h.preventDefault();let f=n!==void 0?n:wi(u)===wi(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,d,n,s,r,e,i,l,o])}const p0="modulepreload",g0=function(e){return"/"+e},gu={},os=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=g0(i),i in gu)return;gu[i]=!0;const l=i.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":p0,l||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})},y0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>os(()=>Promise.resolve().then(()=>an),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Fo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class v0 extends Fo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class x0 extends Fo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w0 extends Fo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tl||(Tl={}));var j0=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class _0{constructor(t,{headers:r={},customFetch:n,region:s=Tl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=y0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return j0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(w=>{throw new v0(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new x0(d);if(!d.ok)throw new w0(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},Bo={},Bi={},cs={},Hi={},Vi={},b0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zr=b0();const N0=Zr.fetch,sf=Zr.fetch.bind(Zr),af=Zr.Headers,k0=Zr.Request,S0=Zr.Response,an=Object.freeze(Object.defineProperty({__proto__:null,Headers:af,Request:k0,Response:S0,default:sf,fetch:N0},Symbol.toStringTag,{value:"Module"})),E0=zf(an);var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});let C0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wi.default=C0;var lf=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const P0=lf(E0),T0=lf(Wi);let A0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=P0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let u=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),j=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,y="OK")}catch{i.status===404&&x===""?(f=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new T0.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Vi.default=A0;var O0=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const R0=O0(Vi);let I0=class extends R0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hi.default=I0;var U0=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});const L0=U0(Hi);let $0=class extends L0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};cs.default=$0;var D0=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bi,"__esModule",{value:!0});const yn=D0(cs);let z0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new yn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bi.default=z0;var qi={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.version=void 0;Qi.version="0.0.0-automated";Object.defineProperty(qi,"__esModule",{value:!0});qi.DEFAULT_HEADERS=void 0;const M0=Qi;qi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${M0.version}`};var of=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bo,"__esModule",{value:!0});const F0=of(Bi),B0=of(cs),H0=qi;let V0=class cf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},H0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new F0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(l="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new B0.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bo.default=V0;var ln=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const uf=ln(Bo);Ce.PostgrestClient=uf.default;const df=ln(Bi);Ce.PostgrestQueryBuilder=df.default;const hf=ln(cs);Ce.PostgrestFilterBuilder=hf.default;const ff=ln(Hi);Ce.PostgrestTransformBuilder=ff.default;const mf=ln(Vi);Ce.PostgrestBuilder=mf.default;const pf=ln(Wi);Ce.PostgrestError=pf.default;var W0=Ce.default={PostgrestClient:uf.default,PostgrestQueryBuilder:df.default,PostgrestFilterBuilder:hf.default,PostgrestTransformBuilder:ff.default,PostgrestBuilder:mf.default,PostgrestError:pf.default};const{PostgrestClient:q0,PostgrestQueryBuilder:jx,PostgrestFilterBuilder:_x,PostgrestTransformBuilder:bx,PostgrestBuilder:Nx,PostgrestError:kx}=W0;let Al;typeof window>"u"?Al=require("ws"):Al=window.WebSocket;const Q0=Al,G0="2.11.10",K0={"X-Client-Info":`realtime-js/${G0}`},J0="1.0.0",gf=1e4,X0=1e3;var Wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wr||(Wr={}));var xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xe||(xe={}));var et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(et||(et={}));var Ol;(function(e){e.websocket="websocket"})(Ol||(Ol={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class Y0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class yf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(B||(B={}));const yu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=Z0(l,e,t,s),i),{})},Z0=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?vf(i,l):Rl(l)},vf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ny(t,r)}switch(e){case B.bool:return ey(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return ty(t);case B.json:case B.jsonb:return ry(t);case B.timestamp:return sy(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Rl(t);default:return Rl(t)}},Rl=e=>e,ey=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ty=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ry=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ny=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>vf(t,o))}return e},sy=e=>typeof e=="string"?e.replace(" ","T"):e,xf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ca{constructor(t,r,n={},s=gf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vu||(vu={}));class Rn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=Rn.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rn.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),w=d.filter(j=>y.indexOf(j.presence_ref)<0),x=h.filter(j=>f.indexOf(j.presence_ref)<0);w.length>0&&(o[u]=w),x.length>0&&(c[u]=x)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xu||(xu={}));var wu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wu||(wu={}));var ht;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class Ho{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ca(this,et.join,this.params,this.timeout),this.rejoinTimer=new yf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rn(this),this.broadcastEndpointURL=xf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(d=>t==null?void 0:t(ht.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ht.CLOSED));const c={},u={broadcast:i,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ht.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let x=0;x<y;x++){const j=f[x],{filter:{event:m,schema:p,table:g,filter:b}}=j,S=d&&d[x];if(S&&S.event===m&&S.schema===p&&S.table===g&&S.filter===b)w.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),this.state=xe.errored,t==null||t(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ht.SUBSCRIBED);return}}).receive("error",d=>{this.state=xe.errored,t==null||t(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Ca(this,et.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ca(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=et;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,x,j;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=y.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(y=>y.callback(f,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var w,x,j,m,p,g;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const b=y.id,S=(w=y.filter)===null||w===void 0?void 0:w.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:x,table:j,commit_timestamp:m,type:p,errors:g}=w;f=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}y.callback(f,n)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ho.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=yu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=yu(t.columns,t.old_record)),r}}const ju=()=>{},iy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ay{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=K0,this.params={},this.timeout=gf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ju,this.ref=0,this.logger=ju,this.conn=null,this.sendBuffer=[],this.serializer=new Y0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>os(()=>Promise.resolve().then(()=>an),void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Ol.websocket}`,this.httpEndpoint=xf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Q0),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new ly(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:J0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return ir.Connecting;case Wr.open:return ir.Open;case Wr.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ho(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(X0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ly{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Vo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oy extends Vo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Il extends Vo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var cy=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const wf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>os(()=>Promise.resolve().then(()=>an),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},uy=()=>cy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>an),void 0)).Response:Response}),Ul=e=>{if(Array.isArray(e))return e.map(r=>Ul(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ul(n)}),t};var wr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dy=(e,t,r)=>wr(void 0,void 0,void 0,function*(){const n=yield uy();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new oy(Pa(s),e.status||500))}).catch(s=>{t(new Il(Pa(s),s))}):t(new Il(Pa(e),e))}),hy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function us(e,t,r,n,s,i){return wr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,hy(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>dy(c,o,n))})})}function _i(e,t,r,n){return wr(this,void 0,void 0,function*(){return us(e,"GET",t,r,n)})}function Tt(e,t,r,n,s){return wr(this,void 0,void 0,function*(){return us(e,"POST",t,n,s,r)})}function fy(e,t,r,n,s){return wr(this,void 0,void 0,function*(){return us(e,"PUT",t,n,s,r)})}function my(e,t,r,n){return wr(this,void 0,void 0,function*(){return us(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jf(e,t,r,n,s){return wr(this,void 0,void 0,function*(){return us(e,"DELETE",t,n,s,r)})}var Se=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gy{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=wf(s)}uploadOrUpdate(t,r,n,s){return Se(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},_u),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:_u.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Tt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Vo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield Tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Se(this,void 0,void 0,function*(){try{const s=yield Tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}download(t,r){return Se(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield _i(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}})}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield _i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ul(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield my(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof Il){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(t,r,n){return Se(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},py),r),{prefix:t||""});return{data:yield Tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const yy="2.7.1",vy={"X-Client-Info":`storage-js/${yy}`};var _r=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class xy{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},vy),r),this.fetch=wf(n)}listBuckets(){return _r(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}getBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return _r(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return _r(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}}class wy extends xy{constructor(t,r={},n){super(t,r,n)}from(t){return new gy(this.url,this.headers,t,this.fetch)}}const jy="2.50.0";let bn="";typeof Deno<"u"?bn="deno":typeof document<"u"?bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bn="react-native":bn="node";const _y={"X-Client-Info":`supabase-js-${bn}/${jy}`},by={headers:_y},Ny={schema:"public"},ky={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sy={};var Ey=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=sf:t=fetch,(...r)=>t(...r)},Py=()=>typeof Headers>"u"?af:Headers,Ty=(e,t,r)=>{const n=Cy(r),s=Py();return(i,l)=>Ey(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var Ay=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function Oy(e){return e.endsWith("/")?e:e+"/"}function Ry(e,t){var r,n;const{db:s,auth:i,realtime:l,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ay(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const _f="2.70.0",Sr=30*1e3,Ll=3,Ta=Ll*Sr,Iy="http://localhost:9999",Uy="supabase.auth.token",Ly={"X-Client-Info":`gotrue-js/${_f}`},$l="X-Supabase-Api-Version",bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dy=6e5;class Wo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zy extends Wo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function My(e){return R(e)&&e.name==="AuthApiError"}class Nf extends Wo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yt extends Wo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Et extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fy(e){return R(e)&&e.name==="AuthSessionMissingError"}class Ts extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Os extends Yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function By(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class bu extends Yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dl extends Yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Aa(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Nu extends Yt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class In extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ku=` 	
\r=`.split(""),Hy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ku.length;t+=1)e[ku[t].charCodeAt(0)]=-2;for(let t=0;t<bi.length;t+=1)e[bi[t].charCodeAt(0)]=t;return e})();function Su(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bi[n]),t.queuedBits-=6}}function kf(e,t,r){const n=Hy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Eu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{qy(l,n,r)};for(let l=0;l<e.length;l+=1)kf(e.charCodeAt(l),s,i);return t.join("")}function Vy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Vy(n,t)}}function qy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Qy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)kf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Gy(e){const t=[];return Wy(e,r=>t.push(r)),new Uint8Array(t)}function Ky(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Su(s,r,n)),Su(null,r,n),t.join("")}function Jy(e){return Math.round(Date.now()/1e3)+e}function Xy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xe=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Un=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function Yy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Sf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>os(()=>Promise.resolve().then(()=>an),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Zy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ef=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Rs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Is=async(e,t)=>{await e.removeItem(t)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gi.promiseConstructor=Promise;function Oa(e){const t=e.split(".");if(t.length!==3)throw new In("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$y.test(t[n]))throw new In("JWT not in base64url format");return{header:JSON.parse(Eu(t[0])),payload:JSON.parse(Eu(t[1])),signature:Qy(t[2]),raw:{header:t[0],payload:t[1]}}}async function ev(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function rv(e){return("0"+e.toString(16)).substr(-2)}function nv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,rv).join("")}async function sv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t,r=!1){const n=nv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ef(e,`${t}-code-verifier`,s);const i=await iv(n);return[i,n===i?"plain":"s256"]}const av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lv(e){const t=e.headers.get($l);if(!t||!t.match(av))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ov(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(e){if(!uv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var dv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hv=[502,503,504];async function Cu(e){var t;if(!Zy(e))throw new Dl(sr(e),0);if(hv.includes(e.status))throw new Dl(sr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Nf(sr(i),i)}let n;const s=lv(e);if(s&&s.getTime()>=bf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nu(sr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Et}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Nu(sr(r),e.status,r.weak_password.reasons);throw new zy(sr(r),e.status||500,n)}const fv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[$l]||(i[$l]=bf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await mv(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function mv(e,t,r,n,s,i){const l=fv(t,n,s,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Dl(sr(c),0)}if(o.ok||await Cu(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Cu(c)}}function ut(e){var t;let r=null;vv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Jy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Pu(e){const t=ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pv(e){return{data:e,error:null}}function gv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=dv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function yv(e){return e}function vv(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ra=["global","local","others"];var xv=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class wv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ra[0]){if(Ra.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ra.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yv});if(d.error)throw d.error;const h=await d.json(),f=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Nr(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Nr(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Nr(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nr(t.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Nr(t.userId),Nr(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}const jv={getItem:e=>Un()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Un()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Un()&&globalThis.localStorage.removeItem(e)}};function Tu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function _v(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bv extends Cf{}async function Nv(e,t,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}_v();const kv={url:Iy,storageKey:Uy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ly,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Au(e,t,r){return await r()}class ts{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ts.nextInstanceID,ts.nextInstanceID+=1,this.instanceID>0&&Xe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sf(s.fetch),this.lock=s.lock||Au,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nv:this.lock=Au,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Un()?this.storage=jv:(this.memoryStorage={},this.storage=Tu(this.memoryStorage)):(this.memoryStorage={},this.storage=Tu(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_f}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Yy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Xe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),By(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new Nf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await br(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:ut})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ut})}else throw new As("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pu})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pu})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ts}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,l,o,c,u,d,h,f,y;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:j,wallet:m,statement:p,options:g}=t;let b;if(Xe())if(typeof m=="object")b=m;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let v;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")v=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)v=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in v&&"signature"in v&&(typeof v.signedMessage=="string"||v.signedMessage instanceof Uint8Array)&&v.signature instanceof Uint8Array)w=typeof v.signedMessage=="string"?v.signedMessage:new TextDecoder().decode(v.signedMessage),x=v.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(v=>`- ${v}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:j,error:m}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ky(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ut});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ts}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(R(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Rs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ut});if(await Is(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ts}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,o=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ut}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ts}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await br(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new As("You must provide either an email or phone number.")}catch(o){if(R(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await br(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:pv})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Et;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new As("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ta:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Rt})})}catch(r){if(R(r))return Fy(r)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Et;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await br(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Rt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Et;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=Oa(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Et;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Xe())throw new Os("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Os(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Os("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bu("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!l||!u)throw new Os("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:l,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(My(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Xy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await br(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Xe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tv(async s=>(s>0&&await ev(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ut})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Aa(i)&&Date.now()+l-n<Sr})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Xe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Rs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ta;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ta}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Aa(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),R(i)){const l={session:null,error:i};return Aa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ef(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${Ll} ticks`),s<=Ll&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await br(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Oa(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Dy>Date.now()))return n;const{data:s,error:i}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new In("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new In("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=Oa(n);if(ov(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:l},error:null}}const u=cv(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,Gy(`${o}.${c}`)))throw new In("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}ts.nextInstanceID=0;const Sv=ts;class Ev extends Sv{constructor(t){super(t)}}var Cv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Pv{constructor(t,r,n){var s,i,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Oy(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Ny,realtime:Sy,auth:Object.assign(Object.assign({},ky),{storageKey:u}),global:by},h=Ry(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=Ty(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new q0(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new _0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wy(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Cv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ev({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ay(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tv=(e,t,r)=>new Pv(e,t,r),Av="https://vabspzrgovsickaseqrb.supabase.co",Ov="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYnNwenJnb3ZzaWNrYXNlcXJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0OTg0MjQsImV4cCI6MjA2NTA3NDQyNH0.W-JEfC-6WeixtEh0yoXAUzH8k-OwODDo8Pu_fswj_rk",O=Tv(Av,Ov),Pf=N.createContext(void 0);function Rv({children:e}){const[t,r]=N.useState(null),[n,s]=N.useState(!0),i=async u=>{try{console.log("Loading profile for user:",u.id);const{data:d,error:h}=await O.from("profiles").select("*").eq("id",u.id).maybeSingle();if(h&&(console.error("Error loading profile:",h),h.code!=="PGRST116")){r(null),s(!1);return}let f=d;if(!d){console.log("Creating new profile for user:",u.id);const y=u.user_metadata||{},w={id:u.id,email:u.email,full_name:y.full_name||null,phone:y.phone||null,avatar_url:null,specialization:y.specialization||null,bio:y.bio||null,is_verified:y.isVerified||!1,role:y.role||"patient",affiliate_health_facility:y.affiliateHealthFacility||null},{data:x,error:j}=await O.from("profiles").insert(w).select().single();if(j)if(console.error("Error creating profile:",j),j.code==="23505"){console.log("Profile already exists, fetching...");const{data:m,error:p}=await O.from("profiles").select("*").eq("id",u.id).single();if(!p&&m)f=m;else{console.error("Failed to fetch existing profile:",p),r(null),s(!1);return}}else{r(null),s(!1);return}else f=x}f?(console.log("Setting user profile:",f),r({id:f.id,email:f.email,name:f.full_name||"User",phone:f.phone||void 0,avatar:f.avatar_url||void 0,role:f.role||"patient",verified:f.is_verified||!1,specialization:f.specialization||void 0,bio:f.bio||void 0,affiliateHealthFacility:f.affiliate_health_facility||void 0})):(console.log("No profile data available"),r(null))}catch(d){console.error("Error in loadUserProfileAsync:",d),r(null)}finally{s(!1)}};N.useEffect(()=>{let u=!0;(async()=>{try{console.log("Initializing auth...");const{data:{session:f},error:y}=await O.auth.getSession();if(y){console.error("Error getting session:",y),(y.message.includes("Refresh Token Not Found")||y.message.includes("Invalid Refresh Token"))&&(console.log("Invalid refresh token detected, clearing session..."),await O.auth.signOut()),u&&(r(null),s(!1));return}f!=null&&f.user&&u?(console.log("Found existing session for user:",f.user.id),await i(f.user)):(console.log("No existing session found"),u&&(r(null),s(!1)))}catch(f){console.error("Error in initializeAuth:",f),u&&(r(null),s(!1))}})();const{data:{subscription:h}}=O.auth.onAuthStateChange((f,y)=>{var w;console.log("Auth state change:",f,(w=y==null?void 0:y.user)==null?void 0:w.id),u&&(f==="SIGNED_OUT"||!(y!=null&&y.user)?(console.log("User signed out or no session"),r(null),s(!1)):y!=null&&y.user&&(console.log("User signed in:",y.user.id),s(!0),i(y.user)))});return()=>{u=!1,h.unsubscribe()}},[]);const l=async(u,d,h,f,y)=>{try{console.log("Starting signup process..."),s(!0);const w={full_name:h,phone:f};y&&(w.role=y.role,w.specialization=y.specialization,w.bio=y.bio,w.licenseNumber=y.licenseNumber,w.yearsOfExperience=y.yearsOfExperience,w.isVerified=y.isVerified,w.affiliateHealthFacility=y.affiliateHealthFacility);const{data:{user:x,session:j},error:m}=await O.auth.signUp({email:u,password:d,options:{data:w}});return m?(console.error("Signup error:",m),s(!1),{success:!1,error:m.message}):x&&j?(console.log("Signup successful, user created:",x.id),{success:!0}):(s(!1),{success:!1,error:"Please check your email to confirm your account."})}catch(w){return console.error("Signup error:",w),s(!1),{success:!1,error:w.message||"An unexpected error occurred"}}},o=async(u,d)=>{try{console.log("Starting signin process..."),s(!0);const{data:h,error:f}=await O.auth.signInWithPassword({email:u,password:d});return f?(console.error("Signin error:",f),s(!1),{success:!1,error:f.message}):(console.log("Signin successful"),{success:!0})}catch(h){return console.error("Signin error:",h),s(!1),{success:!1,error:h.message||"An unexpected error occurred"}}},c=async()=>{try{console.log("Signing out..."),s(!0);const{error:u}=await O.auth.signOut();u&&console.error("Signout error:",u)}catch(u){console.error("Signout error:",u),r(null),s(!1)}};return a.jsx(Pf.Provider,{value:{user:t,loading:n,signUp:l,signIn:o,signOut:c,isAuthenticated:!!t},children:e})}function Ge(){const e=N.useContext(Pf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var Iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lv=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:o,...c},u)=>N.createElement("svg",{ref:u,...Iv,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:`lucide lucide-${Uv(e)}`,...c},[...t.map(([d,h])=>N.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var $=Lv;const zl=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Us=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),$v=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Dv=$("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ni=$("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),we=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),zv=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Mv=$("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ki=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Tf=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Fv=$("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Bv=$("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Ji=$("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Hv=$("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),te=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Vv=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ml=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Af=$("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),yt=$("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Wv=$("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),qv=$("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),qo=$("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ou=$("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),Ks=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Of=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Qv=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Qo=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),vt=$("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Rf=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Go=$("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Ko=$("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Gv=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Kv=$("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Xi=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Jv=$("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),rs=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fl=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),cr=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function If(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=If(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Jo(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=If(e))&&(n&&(n+=" "),n+=t);return n}function I({variant:e="primary",size:t="md",className:r,children:n,...s}){return a.jsx("button",{className:Jo("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":e==="primary","bg-medical-600 text-white hover:bg-medical-700 focus:ring-medical-500":e==="secondary","border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500":e==="outline","text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:ring-primary-500":e==="ghost","px-3 py-1.5 text-sm":t==="sm","px-4 py-2 text-base":t==="md","px-6 py-3 text-lg":t==="lg"},r),...s,children:n})}function Xv(){var l;const{user:e,signOut:t,isAuthenticated:r,loading:n}=Ge(),s=kt(),i=async()=>{await t(),s("/")};return a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"bg-primary-600 p-2 rounded-lg",children:a.jsx(Ji,{className:"h-6 w-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"HealthConnect"})]}),n?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(te,{className:"h-4 w-4 animate-spin text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):r?a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ie,{to:"/feed",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Q&A Feed"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-medium text-sm",children:((l=e==null?void 0:e.name)==null?void 0:l.split(" ").map(o=>o[0]).join(""))||"U"})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:e==null?void 0:e.name})]}),a.jsx(Ie,{to:(e==null?void 0:e.role)==="doctor"?"/doctor-dashboard":"/patient-dashboard",children:a.jsxs(I,{variant:"ghost",size:"sm",children:[a.jsx(rs,{className:"h-4 w-4 mr-1"}),"Dashboard"]})}),a.jsxs(I,{variant:"ghost",size:"sm",onClick:i,children:[a.jsx(Vv,{className:"h-4 w-4 mr-1"}),"Logout"]})]}):a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ie,{to:"/doctor-signup",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Go,{className:"h-4 w-4 mr-1"}),"Join as a Doctor"]})}),a.jsx(Ie,{to:"/login",children:a.jsx(I,{variant:"ghost",children:"Login"})}),a.jsx(Ie,{to:"/signup",children:a.jsx(I,{variant:"primary",children:"Sign Up"})})]})]})})})}function Yv(){return a.jsx("footer",{className:"bg-gray-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"bg-primary-600 p-2 rounded-lg",children:a.jsx(Ji,{className:"h-6 w-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold",children:"HealthConnect"})]}),a.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Connecting patients with verified doctors across developing countries. Get reliable health information and professional medical consultations."}),a.jsx("div",{className:"flex space-x-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsx(Af,{className:"h-4 w-4 mr-1"}),"Available across Africa"]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"How It Works"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Find Doctors"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Testing Centers"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx(qo,{className:"h-4 w-4 mr-2"}),"+233-XX-XXX-XXXX"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Ml,{className:"h-4 w-4 mr-2"}),"hello@healthconnect.com"]})]})]})]}),a.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-300",children:a.jsx("p",{children:"© 2024 HealthConnect. All rights reserved."})})]})})}function vn({children:e}){const{user:t,loading:r,isAuthenticated:n}=Ge();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?a.jsx(a.Fragment,{children:e}):a.jsx(r0,{to:"/login",replace:!0})}function Zv(){return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("section",{className:"relative bg-gradient-to-br from-primary-50 to-medical-50 py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:["Connect with",a.jsx("span",{className:"text-primary-600",children:" Verified Doctors"})," in Your Community"]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Get reliable health information, ask questions about your anonymously, and book consultations with certified medical professionals across diverse health areas."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:a.jsx(Ie,{to:"/signup",children:a.jsxs(I,{size:"lg",className:"w-full sm:w-auto",children:["Join Our Community",a.jsx(Us,{className:"ml-2 h-5 w-5"})]})})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"https://images.pexels.com/photos/4173251/pexels-photo-4173251.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2",alt:"Doctor consultation",className:"rounded-lg shadow-2xl w-full"}),a.jsx("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-lg shadow-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:a.jsx(we,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"500+ Verified Doctors"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ready to help you"})]})]})})]})]})})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Healthcare Made Accessible"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our platform bridges the gap between patients and healthcare professionals, making quality medical advice accessible to everyone."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center p-8 rounded-lg bg-gradient-to-br from-primary-50 to-primary-100",children:[a.jsx("div",{className:"bg-primary-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Fl,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Community-Driven Q&A"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Ask health questions anonymously or publicly and get answers from our verified medical professionals. Learn from others' experiences in a safe environment."})]}),a.jsxs("div",{className:"text-center p-8 rounded-lg bg-gradient-to-br from-medical-50 to-medical-100",children:[a.jsx("div",{className:"bg-medical-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(vt,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Verified Medical Experts"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"All our doctors are thoroughly verified and licensed professionals. Get reliable, evidence-based medical advice you can trust."})]}),a.jsxs("div",{className:"text-center p-8 rounded-lg bg-gradient-to-br from-yellow-50 to-yellow-100",children:[a.jsx("div",{className:"bg-yellow-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Af,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Local Testing Centers"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Find nearby testing facilities and diagnostic centers. Book appointments and get the medical tests you need close to home."})]})]})]})}),a.jsx("section",{className:"py-20",style:{backgroundColor:"#FDC300"},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Verified Doctors"}),a.jsx("p",{className:"text-xl text-gray-800 max-w-3xl mx-auto",children:"Join our network of trusted medical professionals and make a difference in your community's health"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(vt,{className:"h-6 w-6 text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Rigorous Verification Process"}),a.jsx("p",{className:"text-gray-800",children:"We thoroughly verify all medical credentials, licenses, and certifications to ensure only qualified professionals join our platform."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Fl,{className:"h-6 w-6 text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expand Your Reach"}),a.jsx("p",{className:"text-gray-800",children:"Connect with patients across your region and beyond. Provide consultations and answer health questions from the comfort of your practice."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx($v,{className:"h-6 w-6 text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Build Your Reputation"}),a.jsx("p",{className:"text-gray-800",children:"Showcase your expertise, earn patient reviews, and build a strong professional reputation in the digital healthcare space."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Go,{className:"h-6 w-6 text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Flexible Practice"}),a.jsx("p",{className:"text-gray-800",children:"Set your own consultation fees, choose your availability, and practice telemedicine on your terms while helping more patients."})]})]})]})}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[a.jsx("div",{className:"bg-gray-900 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Jv,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to Join Our Network?"}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Become part of a trusted community of medical professionals dedicated to improving healthcare accessibility across developing regions."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-500 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Free registration for verified doctors"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Set your own consultation rates"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"24/7 platform support"})]})]}),a.jsx(Ie,{to:"/doctor-signup",children:a.jsxs(I,{size:"lg",className:"w-full bg-gray-900 hover:bg-gray-800 text-white",children:["Register as a Doctor",a.jsx(Us,{className:"ml-2 h-5 w-5"})]})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Registration requires medical license verification"})]})]})})]})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-teal-50 to-cyan-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Access to Accredited Test Centers"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Partner with us to provide essential diagnostic services and expand your reach to patients who need reliable testing facilities"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsx("div",{className:"text-center lg:text-left",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[a.jsx("div",{className:"bg-teal-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto lg:mx-0 mb-6",children:a.jsx(Dv,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Join Our Testing Network"}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Become a trusted diagnostic partner and help patients access quality testing services in their communities. Increase your visibility and patient base through our platform."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-500 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-teal-600"}),a.jsx("span",{children:"Free listing for accredited centers"})]}),a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-teal-600"}),a.jsx("span",{children:"Online appointment booking system"})]}),a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-teal-600"}),a.jsx("span",{children:"Patient review and rating system"})]}),a.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-teal-600"}),a.jsx("span",{children:"Digital result delivery integration"})]})]}),a.jsxs(I,{size:"lg",className:"w-full bg-teal-600 hover:bg-teal-700 text-white",children:["Register Your Test Center",a.jsx(Us,{className:"ml-2 h-5 w-5"})]}),a.jsx("p",{className:"text-xs text-gray-500 text-center lg:text-left",children:"Accreditation and licensing verification required"})]})]})}),a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(vt,{className:"h-6 w-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Quality Assurance"}),a.jsx("p",{className:"text-gray-600",children:"All testing centers undergo thorough accreditation verification to ensure they meet the highest standards for diagnostic accuracy and patient safety."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Ki,{className:"h-6 w-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Streamlined Booking"}),a.jsx("p",{className:"text-gray-600",children:"Patients can easily find and book appointments at your facility through our integrated scheduling system, reducing administrative overhead."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Fv,{className:"h-6 w-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Digital Integration"}),a.jsx("p",{className:"text-gray-600",children:"Seamlessly integrate with our platform to provide digital test results, appointment confirmations, and patient communication tools."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(qo,{className:"h-6 w-6 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"24/7 Support"}),a.jsx("p",{className:"text-gray-600",children:"Get dedicated support for platform integration, patient management, and technical assistance whenever you need it."})]})]})]})})]})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-50 to-indigo-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Access to Pharmacies"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Connect patients with trusted pharmacies for convenient medication access and prescription fulfillment"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Ou,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Prescription Management"}),a.jsx("p",{className:"text-gray-600",children:"Streamline prescription fulfillment with digital prescriptions from verified doctors, ensuring accurate medication dispensing and patient safety."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Wv,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage your medication inventory efficiently with real-time stock updates, automated reorder alerts, and demand forecasting tools."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Kv,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Delivery Services"}),a.jsx("p",{className:"text-gray-600",children:"Offer convenient home delivery options for patients, expanding your service area and providing essential medications to those who need them most."})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-white p-3 rounded-full shadow-md",children:a.jsx(Bv,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Patient Counseling"}),a.jsx("p",{className:"text-gray-600",children:"Provide medication counseling and consultation services through our platform, helping patients understand their treatments and improve adherence."})]})]})]})}),a.jsx("div",{className:"text-center lg:text-right",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[a.jsx("div",{className:"bg-purple-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto lg:mx-auto mb-6",children:a.jsx(Ou,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Partner with HealthConnect"}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Join our network of trusted pharmacies and help patients access essential medications with convenience and confidence. Expand your reach and grow your business."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-500 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{children:"Free registration for licensed pharmacies"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{children:"Digital prescription processing"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{children:"Delivery management system"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(we,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{children:"Customer review platform"})]})]}),a.jsxs(I,{size:"lg",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:["Register Your Pharmacy",a.jsx(Us,{className:"ml-2 h-5 w-5"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Pharmacy license and certification verification required"})]})]})})]})]})}),a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How HealthConnect Works"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Getting quality healthcare advice has never been easier. Follow these simple steps to connect with medical professionals."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"1",title:"Sign Up",description:"Create your free account and join our healthcare community"},{step:"2",title:"Ask Questions",description:"Post your health questions anonymously or publicly"},{step:"3",title:"Get Answers",description:"Receive expert responses from verified doctors"},{step:"4",title:"Book Consultations",description:"Schedule paid one-on-one consultations when needed"}].map((e,t)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-primary-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:e.step}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),a.jsx("p",{className:"text-gray-600",children:e.description})]},t))})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Trusted by Thousands"}),a.jsx("p",{className:"text-xl text-gray-600",children:"See what our community members say about HealthConnect"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah M.",role:"Patient",content:"HealthConnect helped me understand my symptoms before visiting a doctor. The community is supportive and the doctors are very knowledgeable.",rating:5},{name:"Dr. James K.",role:"General Practitioner",content:"I love being able to help patients across the region. The platform makes it easy to share medical knowledge and provide quality care.",rating:5},{name:"Michael T.",role:"Patient",content:"Found a great testing center near me through the app. The verification system gives me confidence in the recommendations.",rating:5}].map((e,t)=>a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(e.rating)].map((r,n)=>a.jsx(Rf,{className:"h-5 w-5 text-yellow-400 fill-current"},n))}),a.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',e.content,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.role})]})]},t))})]})}),a.jsx("section",{className:"py-20 bg-primary-600",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),a.jsx("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of patients and doctors who are already part of our healthcare community. Your health journey starts here."}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Ie,{to:"/signup",children:a.jsx(I,{variant:"outline",size:"lg",className:"border-2 border-white text-primary-600 bg-white hover:bg-gray-100",children:"Join Our Community"})})})]})})]})}function ex(){const{user:e,isAuthenticated:t,loading:r}=Ge(),n=kt();return N.useEffect(()=>{!r&&t&&e&&(e.role==="doctor"?n("/doctor-dashboard",{replace:!0}):e.role==="admin"?n("/admin-dashboard",{replace:!0}):n("/feed",{replace:!0}))},[t,r,e,n]),r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Redirecting..."})]})}):a.jsx(Zv,{})}function re({label:e,error:t,className:r,...n}){return a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),a.jsx("input",{className:Jo("w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",t&&"border-red-500 focus:ring-red-500 focus:border-red-500",r),...n}),t&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})}function Ru(){const e=kt(),t=xr(),{signIn:r,signUp:n,loading:s,isAuthenticated:i}=Ge(),l=t.pathname==="/login",[o,c]=N.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[u,d]=N.useState(""),[h,f]=N.useState(!1);N.useEffect(()=>{i&&!s&&e("/feed")},[i,s,e]),N.useEffect(()=>{d(""),f(!1),c({name:"",email:"",password:"",confirmPassword:"",phone:""})},[l]);const y=async x=>{x.preventDefault(),d(""),f(!0);try{if(l){const j=await r(o.email,o.password);j.success||d(j.error||"Invalid email or password")}else{if(o.password!==o.confirmPassword){d("Passwords do not match");return}if(o.password.length<6){d("Password must be at least 6 characters long");return}if(!o.name.trim()){d("Full name is required");return}if(!o.phone.trim()){d("Phone number is required");return}const j=await n(o.email,o.password,o.name.trim(),o.phone.trim());j.success||d(j.error||"Failed to create account")}}catch(j){d(j.message||"An unexpected error occurred")}finally{f(!1)}},w=s||h;return s&&!h?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-medical-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-medical-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-primary-600 p-3 rounded-full",children:a.jsx(Ji,{className:"h-8 w-8 text-white"})})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:l?"Welcome Back":"Join HealthConnect"}),a.jsx("p",{className:"mt-2 text-gray-600",children:l?"Sign in to your patient account":"Create your patient account to get started"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:u}),!l&&a.jsxs(a.Fragment,{children:[a.jsx(re,{label:"Full Name",type:"text",value:o.name,onChange:x=>c({...o,name:x.target.value}),required:!0,placeholder:"Enter your full name",disabled:w}),a.jsx(re,{label:"Phone Number",type:"tel",value:o.phone,onChange:x=>c({...o,phone:x.target.value}),required:!0,placeholder:"Enter your phone number",disabled:w})]}),a.jsx(re,{label:"Email Address",type:"email",value:o.email,onChange:x=>c({...o,email:x.target.value}),required:!0,placeholder:"Enter your email",disabled:w}),a.jsx(re,{label:"Password",type:"password",value:o.password,onChange:x=>c({...o,password:x.target.value}),required:!0,placeholder:"Enter your password",disabled:w}),!l&&a.jsx(re,{label:"Confirm Password",type:"password",value:o.confirmPassword,onChange:x=>c({...o,confirmPassword:x.target.value}),required:!0,placeholder:"Confirm your password",disabled:w}),!l&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(rs,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Patient Account"}),a.jsx("p",{className:"text-sm text-blue-700",children:"You're creating a patient account. This will allow you to ask health questions, book consultations with verified doctors, and access our health community."})]})]})}),a.jsx(I,{type:"submit",className:"w-full",disabled:w,size:"lg",children:h?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),l?"Signing in...":"Creating account..."]}):l?"Sign In":"Create Patient Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[l?"Don't have an account? ":"Already have an account? ",a.jsx("button",{type:"button",onClick:()=>e(l?"/signup":"/login"),className:"font-medium text-primary-600 hover:text-primary-700 transition-colors",disabled:w,children:l?"Sign up":"Sign in"})]})}),!l&&a.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-xs text-gray-600 text-center",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. All health information shared on this platform is confidential and secure."})})]})]})})}function tx(){const e=kt();xr();const{signUp:t,loading:r,isAuthenticated:n}=Ge(),[s,i]=N.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",specialization:"",bio:"",licenseNumber:"",yearsOfExperience:"",affiliateHealthFacility:"",documents:[]}),[l,o]=N.useState(""),[c,u]=N.useState(!1),d=["General Medicine","Cardiology","Dermatology","Endocrinology","Gastroenterology","Neurology","Obstetrics & Gynecology","Oncology","Orthopedics","Pediatrics","Psychiatry","Pulmonology","Radiology","Surgery","Urology","Nutrition & Dietetics","Other"];N.useEffect(()=>{n&&!r&&e("/doctor-dashboard")},[n,r,e]);const h=x=>{const m=Array.from(x.target.files||[]).filter(p=>{const g=p.type==="application/pdf"||p.type.startsWith("image/"),b=p.size<=10*1024*1024;return g&&b});i(p=>({...p,documents:[...p.documents,...m].slice(0,5)}))},f=x=>{i(j=>({...j,documents:j.documents.filter((m,p)=>p!==x)}))},y=async x=>{x.preventDefault(),o(""),u(!0);try{if(s.password!==s.confirmPassword){o("Passwords do not match");return}if(s.password.length<6){o("Password must be at least 6 characters long");return}if(!s.name.trim()){o("Full name is required");return}if(!s.phone.trim()){o("Phone number is required");return}if(!s.specialization){o("Specialization is required");return}if(!s.licenseNumber.trim()){o("Medical license number is required");return}if(!s.yearsOfExperience.trim()){o("Years of experience is required");return}if(!s.affiliateHealthFacility.trim()){o("Affiliate health facility is required");return}if(s.documents.length===0){o("Please upload at least one verification document");return}const j=await t(s.email,s.password,s.name.trim(),s.phone.trim(),{role:"doctor",specialization:s.specialization,bio:s.bio.trim(),licenseNumber:s.licenseNumber.trim(),yearsOfExperience:parseInt(s.yearsOfExperience),isVerified:!1,affiliateHealthFacility:s.affiliateHealthFacility.trim()});j.success?e("/doctor-verification-pending"):o(j.error||"Failed to create doctor account")}catch(j){o(j.message||"An unexpected error occurred")}finally{u(!1)}},w=r||c;return r&&!c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-medical-50 to-primary-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-medical-50 to-primary-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-medical-600 p-3 rounded-full",children:a.jsx(Go,{className:"h-8 w-8 text-white"})})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Join as a Doctor"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Register your medical practice and start helping patients in your community"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:l}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(re,{label:"Full Name",type:"text",value:s.name,onChange:x=>i({...s,name:x.target.value}),required:!0,placeholder:"Dr. John Smith",disabled:w}),a.jsx(re,{label:"Email Address",type:"email",value:s.email,onChange:x=>i({...s,email:x.target.value}),required:!0,placeholder:"doctor@example.com",disabled:w}),a.jsx(re,{label:"Phone Number",type:"tel",value:s.phone,onChange:x=>i({...s,phone:x.target.value}),required:!0,placeholder:"+233-XX-XXX-XXXX",disabled:w}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization *"}),a.jsxs("select",{value:s.specialization,onChange:x=>i({...s,specialization:x.target.value}),required:!0,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"Select your specialization"}),d.map(x=>a.jsx("option",{value:x,children:x},x))]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Professional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(re,{label:"Medical License Number",type:"text",value:s.licenseNumber,onChange:x=>i({...s,licenseNumber:x.target.value}),required:!0,placeholder:"MD-2024-001",disabled:w}),a.jsx(re,{label:"Years of Experience",type:"number",value:s.yearsOfExperience,onChange:x=>i({...s,yearsOfExperience:x.target.value}),required:!0,placeholder:"5",min:"0",max:"50",disabled:w})]}),a.jsx(re,{label:"Affiliate Health Facility",type:"text",value:s.affiliateHealthFacility,onChange:x=>i({...s,affiliateHealthFacility:x.target.value}),required:!0,placeholder:"e.g., City General Hospital, Private Practice",disabled:w}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professional Bio"}),a.jsx("textarea",{value:s.bio,onChange:x=>i({...s,bio:x.target.value}),rows:4,placeholder:"Tell patients about your experience, expertise, and approach to healthcare...",disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Verification Documents"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Documents (Required) *"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(Xi,{className:"w-8 h-8 mb-2 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," verification documents"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG up to 10MB (Max 5 files)"})]}),a.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:".pdf,.png,.jpg,.jpeg",onChange:h,disabled:s.documents.length>=5||w})]})}),s.documents.length>0&&a.jsx("div",{className:"space-y-2",children:s.documents.map((x,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:x.type==="application/pdf"?a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-red-600 text-xs font-bold",children:"PDF"})}):a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"IMG"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:x.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(1)," MB"]})]})]}),a.jsx("button",{type:"button",onClick:()=>f(j),className:"text-red-500 hover:text-red-700 transition-colors",disabled:w,children:a.jsx(cr,{className:"h-4 w-4"})})]},j))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Required documents: Medical license, diploma, government ID, and any relevant certifications"})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Security"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(re,{label:"Password",type:"password",value:s.password,onChange:x=>i({...s,password:x.target.value}),required:!0,placeholder:"Enter your password",disabled:w}),a.jsx(re,{label:"Confirm Password",type:"password",value:s.confirmPassword,onChange:x=>i({...s,confirmPassword:x.target.value}),required:!0,placeholder:"Confirm your password",disabled:w})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(vt,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Verification Process"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Your account will be reviewed by our medical verification team. This process typically takes 2-3 business days. You'll receive an email notification once your account is verified and you can start practicing on our platform."})]})]})}),a.jsx(I,{type:"submit",className:"w-full",disabled:w,size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Doctor Account..."]}):"Create Doctor Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Already have a doctor account?"," ",a.jsx("button",{type:"button",onClick:()=>e("/login"),className:"font-medium text-primary-600 hover:text-primary-700 transition-colors",disabled:w,children:"Sign in here"})]})}),a.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-xs text-gray-600 text-center",children:"By creating a doctor account, you agree to our Terms of Service, Privacy Policy, and Medical Professional Code of Conduct. All information provided will be verified before account activation."})})]})]})})}function rx(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-medical-50 to-primary-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"bg-yellow-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ki,{className:"h-10 w-10 text-yellow-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Pending"}),a.jsx("p",{className:"text-gray-600",children:"Thank you for registering as a doctor with HealthConnect!"})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-start text-left",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(we,{className:"h-4 w-4 text-blue-600"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Application Submitted"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Your doctor registration has been received"})]})]}),a.jsxs("div",{className:"flex items-start text-left",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx(vt,{className:"h-4 w-4 text-yellow-600"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Under Review"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Our team is verifying your credentials"})]})]}),a.jsxs("div",{className:"flex items-start text-left",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("div",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(Ml,{className:"h-4 w-4 text-gray-400"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Approval Notification"}),a.jsx("p",{className:"text-sm text-gray-500",children:"You'll receive an email when approved"})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"What happens next?"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Our medical verification team will review your documents"}),a.jsx("li",{children:"• We may contact you for additional information"}),a.jsx("li",{children:"• Verification typically takes 2-3 business days"}),a.jsx("li",{children:"• You'll receive an email notification once approved"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ie,{to:"/",children:a.jsx(I,{variant:"outline",className:"w-full",children:"Return to Homepage"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Need help with your application?"}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[a.jsxs("a",{href:"mailto:verification@healthconnect.com",className:"flex items-center text-primary-600 hover:text-primary-700",children:[a.jsx(Ml,{className:"h-4 w-4 mr-1"}),"Email Support"]}),a.jsxs("a",{href:"tel:+233-XX-XXX-XXXX",className:"flex items-center text-primary-600 hover:text-primary-700",children:[a.jsx(qo,{className:"h-4 w-4 mr-1"}),"Call Us"]})]})]})]})]})})})}function ce({children:e,variant:t="neutral",size:r="sm"}){return a.jsx("span",{className:Jo("inline-flex items-center rounded-full font-medium",{"bg-primary-100 text-primary-800":t==="primary","bg-green-100 text-green-800":t==="success","bg-yellow-100 text-yellow-800":t==="warning","bg-red-100 text-red-800":t==="error","bg-gray-100 text-gray-800":t==="neutral","px-2.5 py-0.5 text-xs":r==="sm","px-3 py-1 text-sm":r==="md"}),children:e})}let Ls;const nx=new Uint8Array(16);function sx(){if(!Ls&&(Ls=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ls))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ls(nx)}const de=[];for(let e=0;e<256;++e)de.push((e+256).toString(16).slice(1));function ix(e,t=0){return de[e[t+0]]+de[e[t+1]]+de[e[t+2]]+de[e[t+3]]+"-"+de[e[t+4]]+de[e[t+5]]+"-"+de[e[t+6]]+de[e[t+7]]+"-"+de[e[t+8]]+de[e[t+9]]+"-"+de[e[t+10]]+de[e[t+11]]+de[e[t+12]]+de[e[t+13]]+de[e[t+14]]+de[e[t+15]]}const ax=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Iu={randomUUID:ax};function lx(e,t,r){if(Iu.randomUUID&&!t&&!e)return Iu.randomUUID();e=e||{};const n=e.random||(e.rng||sx)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return ix(n)}class $e{static async uploadQuestionImages(t,r){try{const n=[];for(const s of t){const i=s.name.split(".").pop(),l=`${r}/${lx()}.${i}`,{data:o,error:c}=await O.storage.from("question_images").upload(l,s,{cacheControl:"3600",upsert:!1});if(c)return console.error("Error uploading image:",c),{success:!1,error:`Failed to upload image: ${c.message}`};const{data:{publicUrl:u}}=O.storage.from("question_images").getPublicUrl(l);n.push(u)}return{success:!0,imageUrls:n}}catch(n){return console.error("Error in uploadQuestionImages:",n),{success:!1,error:n.message||"An unexpected error occurred during image upload"}}}static async deleteQuestionImages(t){try{for(const r of t){const n=r.split("/"),s=n.findIndex(o=>o==="question_images");if(s===-1)continue;const i=n.slice(s+1).join("/"),{error:l}=await O.storage.from("question_images").remove([i]);l&&console.error("Error deleting image:",l)}return{success:!0}}catch(r){return console.error("Error in deleteQuestionImages:",r),{success:!1,error:r.message||"An unexpected error occurred during image deletion"}}}static async updateQuestion(t,r){try{const{data:{user:n}}=await O.auth.getUser();if(!n)return{success:!1,error:"User not authenticated"};const{data:s,error:i}=await O.from("questions").select("author_id, image_urls").eq("id",t).single();if(i)return{success:!1,error:"Question not found"};if(s.author_id!==n.id)return{success:!1,error:"You can only edit your own questions"};r.imagesToDelete&&r.imagesToDelete.length>0&&await this.deleteQuestionImages(r.imagesToDelete);let l=[];if(r.newImages&&r.newImages.length>0){const h=await this.uploadQuestionImages(r.newImages,n.id);if(!h.success)return{success:!1,error:h.error};l=h.imageUrls||[]}const u=[...(s.image_urls||[]).filter(h=>{var f;return!((f=r.imagesToDelete)!=null&&f.includes(h))}),...l],{error:d}=await O.from("questions").update({title:r.title,content:r.content,category:r.category,tags:r.tags,is_anonymous:r.isAnonymous,is_public:r.isPublic,image_urls:u,updated_at:new Date().toISOString()}).eq("id",t);return d?(console.error("Error updating question:",d),{success:!1,error:d.message}):{success:!0}}catch(n){return console.error("Error updating question:",n),{success:!1,error:n.message||"An unexpected error occurred"}}}static async createQuestion(t){try{const{data:{user:r}}=await O.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{data:n,error:s}=await O.from("profiles").select("full_name").eq("id",r.id).single();if(s)return{success:!1,error:"Failed to get user profile"};const i=t.isAnonymous?"Anonymous":n.full_name||"User";let l=[];if(t.images&&t.images.length>0){const u=await this.uploadQuestionImages(t.images,r.id);if(!u.success)return{success:!1,error:u.error};l=u.imageUrls||[]}const{data:o,error:c}=await O.from("questions").insert({title:t.title,content:t.content,author_id:r.id,author_name:i,is_anonymous:t.isAnonymous||!1,is_public:t.isPublic!==!1,category:t.category,tags:t.tags||[],image_urls:l}).select().single();return c?(console.error("Error creating question:",c),{success:!1,error:c.message}):{success:!0,questionId:o.id}}catch(r){return console.error("Error creating question:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}static async getQuestions(){try{const{data:t,error:r}=await O.from("questions").select(`
          *,
          answers:answers(
            id,
            content,
            author_id,
            author_name,
            author_role,
            is_verified,
            upvotes,
            created_at
          )
        `).eq("is_public",!0).order("created_at",{ascending:!1});if(r)return console.error("Error fetching questions:",r),{success:!1,error:r.message};const{data:{user:n}}=await O.auth.getUser();let s=[],i=[];if(n){const{data:o}=await O.from("question_upvotes").select("question_id").eq("user_id",n.id);s=(o==null?void 0:o.map(u=>u.question_id))||[];const{data:c}=await O.from("answer_upvotes").select("answer_id").eq("user_id",n.id);i=(c==null?void 0:c.map(u=>u.answer_id))||[]}return{success:!0,questions:t.map(o=>({id:o.id,title:o.title,content:o.content,authorId:o.author_id,authorName:o.author_name,isAnonymous:o.is_anonymous,isPublic:o.is_public,category:o.category,tags:o.tags,upvotes:o.upvotes,views:o.views,createdAt:o.created_at,imageUrls:o.image_urls||[],answers:o.answers.map(c=>({id:c.id,content:c.content,authorId:c.author_id,authorName:c.author_name,authorRole:c.author_role,isVerified:c.is_verified,upvotes:c.upvotes,questionId:o.id,createdAt:c.created_at,hasUserUpvoted:i.includes(c.id)})),hasUserUpvoted:s.includes(o.id)}))}}catch(t){return console.error("Error fetching questions:",t),{success:!1,error:t.message||"An unexpected error occurred"}}}static async getQuestionById(t){try{await O.rpc("increment_question_views",{question_id:t});const{data:r,error:n}=await O.from("questions").select(`
          *,
          answers:answers(
            id,
            content,
            author_id,
            author_name,
            author_role,
            is_verified,
            upvotes,
            created_at
          )
        `).eq("id",t).single();if(n)return console.error("Error fetching question:",n),{success:!1,error:n.message};const{data:{user:s}}=await O.auth.getUser();let i=[],l=[];if(s){const{data:c}=await O.from("question_upvotes").select("question_id").eq("user_id",s.id).eq("question_id",t);i=(c==null?void 0:c.map(d=>d.question_id))||[];const u=r.answers.map(d=>d.id);if(u.length>0){const{data:d}=await O.from("answer_upvotes").select("answer_id").eq("user_id",s.id).in("answer_id",u);l=(d==null?void 0:d.map(h=>h.answer_id))||[]}}return{success:!0,question:{id:r.id,title:r.title,content:r.content,authorId:r.author_id,authorName:r.author_name,isAnonymous:r.is_anonymous,isPublic:r.is_public,category:r.category,tags:r.tags,upvotes:r.upvotes,views:r.views,createdAt:r.created_at,imageUrls:r.image_urls||[],answers:r.answers.map(c=>({id:c.id,content:c.content,authorId:c.author_id,authorName:c.author_name,authorRole:c.author_role,isVerified:c.is_verified,upvotes:c.upvotes,questionId:r.id,createdAt:c.created_at,hasUserUpvoted:l.includes(c.id)})),hasUserUpvoted:i.includes(r.id)}}}catch(r){return console.error("Error fetching question by ID:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}static async getUnansweredQuestions(){try{const{data:t,error:r}=await O.from("questions").select(`
          *,
          answers:answers(count)
        `).eq("is_public",!0).order("created_at",{ascending:!1});if(r)return console.error("Error fetching questions:",r),{success:!1,error:r.message};const n=t.filter(d=>{var h;return((h=d.answers[0])==null?void 0:h.count)===0}).map(d=>d.id);if(n.length===0)return{success:!0,questions:[]};const{data:s,error:i}=await O.from("questions").select(`
          *,
          answers:answers(
            id,
            content,
            author_id,
            author_name,
            author_role,
            is_verified,
            upvotes,
            created_at
          )
        `).in("id",n).order("created_at",{ascending:!1});if(i)return console.error("Error fetching full question data:",i),{success:!1,error:i.message};const{data:{user:l}}=await O.auth.getUser();let o=[],c=[];if(l){const{data:d}=await O.from("question_upvotes").select("question_id").eq("user_id",l.id);o=(d==null?void 0:d.map(f=>f.question_id))||[];const{data:h}=await O.from("answer_upvotes").select("answer_id").eq("user_id",l.id);c=(h==null?void 0:h.map(f=>f.answer_id))||[]}return{success:!0,questions:s.map(d=>({id:d.id,title:d.title,content:d.content,authorId:d.author_id,authorName:d.author_name,isAnonymous:d.is_anonymous,isPublic:d.is_public,category:d.category,tags:d.tags,upvotes:d.upvotes,views:d.views,createdAt:d.created_at,imageUrls:d.image_urls||[],answers:d.answers.map(h=>({id:h.id,content:h.content,authorId:h.author_id,authorName:h.author_name,authorRole:h.author_role,isVerified:h.is_verified,upvotes:h.upvotes,questionId:d.id,createdAt:h.created_at,hasUserUpvoted:c.includes(h.id)})),hasUserUpvoted:o.includes(d.id)}))}}catch(t){return console.error("Error fetching unanswered questions:",t),{success:!1,error:t.message||"An unexpected error occurred"}}}static async getUserQuestions(t){try{const{data:{user:r}}=await O.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const n=t||r.id,{data:s,error:i}=await O.from("questions").select(`
          *,
          answers:answers(
            id,
            content,
            author_id,
            author_name,
            author_role,
            is_verified,
            upvotes,
            created_at
          )
        `).eq("author_id",n).order("created_at",{ascending:!1});if(i)return console.error("Error fetching user questions:",i),{success:!1,error:i.message};const{data:l}=await O.from("question_upvotes").select("question_id").eq("user_id",r.id),o=(l==null?void 0:l.map(h=>h.question_id))||[],{data:c}=await O.from("answer_upvotes").select("answer_id").eq("user_id",r.id),u=(c==null?void 0:c.map(h=>h.answer_id))||[];return{success:!0,questions:s.map(h=>({id:h.id,title:h.title,content:h.content,authorId:h.author_id,authorName:h.author_name,isAnonymous:h.is_anonymous,isPublic:h.is_public,category:h.category,tags:h.tags,upvotes:h.upvotes,views:h.views,createdAt:h.created_at,imageUrls:h.image_urls||[],answers:h.answers.map(f=>({id:f.id,content:f.content,authorId:f.author_id,authorName:f.author_name,authorRole:f.author_role,isVerified:f.is_verified,upvotes:f.upvotes,questionId:h.id,createdAt:f.created_at,hasUserUpvoted:u.includes(f.id)})),hasUserUpvoted:o.includes(h.id)}))}}catch(r){return console.error("Error fetching user questions:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}static async toggleQuestionUpvote(t){try{const{data:{user:r}}=await O.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{data:n}=await O.from("question_upvotes").select("id").eq("question_id",t).eq("user_id",r.id).maybeSingle();if(n){const{error:s}=await O.from("question_upvotes").delete().eq("question_id",t).eq("user_id",r.id);if(s)return{success:!1,error:s.message}}else{const{error:s}=await O.from("question_upvotes").insert({question_id:t,user_id:r.id});if(s)return{success:!1,error:s.message}}return{success:!0}}catch(r){return console.error("Error toggling upvote:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}static async toggleAnswerUpvote(t){try{const{data:{user:r}}=await O.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{data:n}=await O.from("answer_upvotes").select("id").eq("answer_id",t).eq("user_id",r.id).maybeSingle();if(n){const{error:l}=await O.from("answer_upvotes").delete().eq("answer_id",t).eq("user_id",r.id);if(l)return{success:!1,error:l.message}}else{const{error:l}=await O.from("answer_upvotes").insert({answer_id:t,user_id:r.id});if(l)return{success:!1,error:l.message}}const{data:s,error:i}=await O.from("answers").select("upvotes").eq("id",t).single();return i?(console.error("Error fetching updated upvote count:",i),{success:!0}):{success:!0,newUpvoteCount:s.upvotes}}catch(r){return console.error("Error toggling answer upvote:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}static async createAnswer(t){try{const{data:{user:r}}=await O.auth.getUser();if(!r)return{success:!1,error:"User not authenticated"};const{data:n,error:s}=await O.from("profiles").select("full_name, role, is_verified").eq("id",r.id).single();if(s)return{success:!1,error:"Failed to get user profile"};const{data:i,error:l}=await O.from("answers").insert({content:t.content,question_id:t.questionId,author_id:r.id,author_name:n.full_name||"User",author_role:n.role||"patient",is_verified:n.role==="doctor"&&n.is_verified}).select().single();return l?(console.error("Error creating answer:",l),{success:!1,error:l.message}):{success:!0,answerId:i.id}}catch(r){return console.error("Error creating answer:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}static async incrementQuestionViews(t){try{await O.rpc("increment_question_views",{question_id:t})}catch(r){console.error("Error incrementing question views:",r)}}}function Uf({answer:e}){const{user:t}=Ge(),[r,n]=N.useState(e.upvotes),[s,i]=N.useState(e.hasUserUpvoted||!1),[l,o]=N.useState(!1),c=d=>{const h=new Date(d);return h.toLocaleDateString()+" at "+h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},u=async()=>{if(!t||l)return;o(!0);const d=!s,h=d?r+1:r-1;i(d),n(h);try{const f=await $e.toggleAnswerUpvote(e.id);f.success?f.newUpvoteCount!==void 0&&n(f.newUpvoteCount):(i(!d),n(r),console.error("Failed to toggle answer upvote:",f.error))}catch(f){i(!d),n(r),console.error("Error toggling answer upvote:",f)}finally{o(!1)}};return a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-medium text-sm",children:e.authorName.split(" ").map(d=>d[0]).join("")})})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.authorName}),e.isVerified&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-4 w-4 text-medical-600"}),a.jsx(ce,{variant:"success",size:"sm",children:"Verified Doctor"})]})]}),a.jsx("p",{className:"text-sm text-gray-500",children:c(e.createdAt)})]})]})}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.content})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"This answer was helpful to many users"}),a.jsxs(I,{variant:"ghost",size:"sm",onClick:u,disabled:!t||l,className:`flex items-center ${s?"text-primary-600":""}`,children:[a.jsx(Ko,{className:"h-4 w-4 mr-1"}),r]})]})]})}function ox({question:e,onUpvote:t,onQuestionUpdate:r,thumbnailUrl:n}){const{user:s}=Ge(),[i,l]=N.useState(!1),[o,c]=N.useState(!1),[u,d]=N.useState(""),[h,f]=N.useState(!1),y=x=>{const j=new Date(x),p=Math.floor((new Date().getTime()-j.getTime())/(1e3*60*60));return p<1?"Just now":p<24?`${p}h ago`:`${Math.floor(p/24)}d ago`},w=async()=>{if(!(!u.trim()||!s)){f(!0);try{const x=await $e.createAnswer({content:u.trim(),questionId:e.id});x.success?(d(""),c(!1),r&&r()):console.error("Failed to create answer:",x.error)}catch(x){console.error("Error submitting answer:",x)}finally{f(!1)}}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Ie,{to:`/questions/${e.id}`,children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 hover:text-primary-600 cursor-pointer transition-colors",children:e.title})}),a.jsx("p",{className:"text-gray-600 mb-3 line-clamp-3",children:e.content}),n&&a.jsxs("div",{className:"mb-3",children:[a.jsx("img",{src:n,alt:"Question attachment",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),e.imageUrls&&e.imageUrls.length>1&&a.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[a.jsx(Hv,{className:"h-4 w-4 mr-1"}),"+",e.imageUrls.length-1," more image",e.imageUrls.length-1!==1?"s":""]})]})]})}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ce,{variant:"primary",children:e.category}),e.tags.map(x=>a.jsxs(ce,{variant:"neutral",children:["#",x]},x))]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ki,{className:"h-4 w-4 mr-1"}),y(e.createdAt)]}),a.jsxs("span",{children:["by ",e.isAnonymous?"Anonymous":e.authorName]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Tf,{className:"h-4 w-4 mr-1"}),e.views]}),a.jsxs("button",{onClick:()=>l(!i),className:"flex items-center hover:text-primary-600 transition-colors",children:[a.jsx(yt,{className:"h-4 w-4 mr-1"}),e.answers.length,i?a.jsx(Mv,{className:"h-4 w-4 ml-1"}):a.jsx(zv,{className:"h-4 w-4 ml-1"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:`flex items-center ${e.hasUserUpvoted?"text-primary-600":""}`,children:[a.jsx(Ko,{className:"h-4 w-4 mr-1"}),e.upvotes]}),(s==null?void 0:s.role)==="doctor"&&a.jsx(I,{variant:"outline",size:"sm",onClick:()=>c(!o),children:"Answer"}),a.jsx(Ie,{to:`/questions/${e.id}`,children:a.jsx(I,{variant:"outline",size:"sm",children:"View Details"})})]})]})]}),o&&(s==null?void 0:s.role)==="doctor"&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("textarea",{placeholder:"Provide your professional medical advice here...",rows:4,value:u,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none",disabled:h}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Your response will be marked as verified medical advice"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(I,{variant:"outline",size:"sm",onClick:()=>c(!1),disabled:h,children:"Cancel"}),a.jsx(I,{size:"sm",onClick:w,disabled:!u.trim()||h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Submit Answer"]})})]})]})]})}),i&&e.answers.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:[e.answers.length," Answer",e.answers.length!==1?"s":""]}),a.jsx("div",{className:"space-y-4",children:e.answers.map(x=>a.jsx(Uf,{answer:x},x.id))})]}),i&&e.answers.length===0&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx(yt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No answers yet"}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Be the first to help answer this question"})]})})]})}function cx(){const{user:e}=Ge();kt();const[t,r]=N.useState([]),[n,s]=N.useState(!0),[i,l]=N.useState(""),[o,c]=N.useState("All"),[u,d]=N.useState(!1),[h,f]=N.useState(!1),[y,w]=N.useState({title:"",content:"",category:"General Medicine",isAnonymous:!1,isPublic:!0,images:[]}),x=["All","General Medicine","Diabetes","Nutrition","Preventive Care","Mental Health"];N.useEffect(()=>{j()},[]);const j=async()=>{s(!0);const v=await $e.getQuestions();v.success&&v.questions?r(v.questions):console.error("Failed to load questions:",v.error),s(!1)},m=t.filter(v=>{const k=v.title.toLowerCase().includes(i.toLowerCase())||v.content.toLowerCase().includes(i.toLowerCase()),P=o==="All"||v.category===o;return k&&P}),p=async v=>{if(!e)return;r(P=>P.map(C=>C.id===v?{...C,upvotes:C.hasUserUpvoted?C.upvotes-1:C.upvotes+1,hasUserUpvoted:!C.hasUserUpvoted}:C));const k=await $e.toggleQuestionUpvote(v);k.success||(r(P=>P.map(C=>C.id===v?{...C,upvotes:C.hasUserUpvoted?C.upvotes+1:C.upvotes-1,hasUserUpvoted:!C.hasUserUpvoted}:C)),console.error("Failed to toggle upvote:",k.error))},g=v=>{const P=Array.from(v.target.files||[]).filter(C=>{const Q=C.type.startsWith("image/"),ke=C.size<=5*1024*1024;return Q&&ke});w(C=>({...C,images:[...C.images,...P].slice(0,3)}))},b=v=>{w(k=>({...k,images:k.images.filter((P,C)=>C!==v)}))},S=()=>{w({title:"",content:"",category:"General Medicine",isAnonymous:!1,isPublic:!0,images:[]})},_=async()=>{if(e){f(!0);try{const v=await $e.createQuestion({title:y.title.trim(),content:y.content.trim(),category:y.category,tags:[],isAnonymous:y.isAnonymous,isPublic:y.isPublic,images:y.images});v.success?(await j(),S(),d(!1)):console.error("Failed to create question:",v.error)}catch(v){console.error("Error submitting question:",v)}finally{f(!1)}}};return n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading questions..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Health Q&A Community"}),a.jsx("p",{className:"text-gray-600",children:"Ask questions, share knowledge, and learn from medical experts"})]}),a.jsxs(I,{onClick:()=>d(!0),className:"mt-4 md:mt-0",children:[a.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Ask Question"]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx(re,{placeholder:"Search questions...",value:i,onChange:v=>l(v.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:x.map(v=>a.jsx("button",{onClick:()=>c(v),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${o===v?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v},v))})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Gv,{className:"h-5 w-5 text-primary-600 mr-2"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Trending Topics"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["#diabetes","#hypertension","#mental-health","#nutrition","#covid19","#pregnancy"].map(v=>a.jsx("span",{className:"px-3 py-1 bg-primary-50 text-primary-600 rounded-full text-sm cursor-pointer hover:bg-primary-100 transition-colors",children:v},v))})]}),a.jsx("div",{className:"space-y-6",children:m.length>0?m.map(v=>a.jsx(ox,{question:v,onUpvote:p,onQuestionUpdate:j,thumbnailUrl:v.imageUrls&&v.imageUrls.length>0?v.imageUrls[0]:void 0},v.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 text-lg",children:"No questions found matching your criteria."}),a.jsx(I,{onClick:()=>d(!0),className:"mt-4",children:"Be the first to ask!"})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Ask a Health Question"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(re,{label:"Question Title",placeholder:"What would you like to know?",value:y.title,onChange:v=>w(k=>({...k,title:v.target.value}))}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{value:y.category,onChange:v=>w(k=>({...k,category:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:x.filter(v=>v!=="All").map(v=>a.jsx("option",{value:v,children:v},v))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Details"}),a.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:6,placeholder:"Provide more details about your question...",value:y.content,onChange:v=>w(k=>({...k,content:v.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Images (Optional)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(Xi,{className:"w-8 h-8 mb-2 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB (Max 3 images)"})]}),a.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:g,disabled:y.images.length>=3})]})}),y.images.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.images.map((v,k)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:URL.createObjectURL(v),alt:`Upload ${k+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"}),a.jsx("button",{type:"button",onClick:()=>b(k),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(cr,{className:"h-3 w-3"})}),a.jsxs("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:[(v.size/1024/1024).toFixed(1),"MB"]})]},k))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Images help doctors better understand your condition. Only upload relevant medical images."})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:y.isAnonymous,onChange:v=>w(k=>({...k,isAnonymous:v.target.checked}))}),a.jsx("span",{className:"text-sm",children:"Post anonymously"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:y.isPublic,onChange:v=>w(k=>({...k,isPublic:v.target.checked}))}),a.jsx("span",{className:"text-sm",children:"Make public"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(I,{variant:"outline",onClick:()=>{S(),d(!1)},disabled:h,children:"Cancel"}),a.jsx(I,{onClick:_,disabled:!y.title.trim()||!y.content.trim()||h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Posting..."]}):"Post Question"})]})]})})]})})}function ux({question:e,isOpen:t,onClose:r,onSave:n}){var _;const[s,i]=N.useState({title:"",content:"",category:"",tags:[],isAnonymous:!1,isPublic:!0,newImages:[],imagesToDelete:[]}),[l,o]=N.useState(""),[c,u]=N.useState(!1),[d,h]=N.useState(""),f=["General Medicine","Diabetes","Nutrition","Preventive Care","Mental Health","Cardiology","Dermatology","Pediatrics","Women's Health","Other"];N.useEffect(()=>{e&&(i({title:e.title,content:e.content,category:e.category,tags:[...e.tags],isAnonymous:e.isAnonymous,isPublic:e.isPublic,newImages:[],imagesToDelete:[]}),o(""),h(""))},[e]);const y=v=>{const P=Array.from(v.target.files||[]).filter(C=>{const Q=C.type.startsWith("image/"),ke=C.size<=5*1024*1024;return Q&&ke});i(C=>({...C,newImages:[...C.newImages,...P].slice(0,3)}))},w=v=>{i(k=>({...k,newImages:k.newImages.filter((P,C)=>C!==v)}))},x=v=>{i(k=>({...k,imagesToDelete:[...k.imagesToDelete,v]}))},j=v=>{i(k=>({...k,imagesToDelete:k.imagesToDelete.filter(P=>P!==v)}))},m=()=>{const v=l.trim().toLowerCase();v&&!s.tags.includes(v)&&s.tags.length<5&&(i(k=>({...k,tags:[...k.tags,v]})),o(""))},p=v=>{i(k=>({...k,tags:k.tags.filter(P=>P!==v)}))},g=async v=>{v.preventDefault(),h(""),u(!0);try{if(!s.title.trim()){h("Title is required");return}if(!s.content.trim()){h("Content is required");return}const k=await $e.updateQuestion(e.id,{title:s.title.trim(),content:s.content.trim(),category:s.category,tags:s.tags,isAnonymous:s.isAnonymous,isPublic:s.isPublic,newImages:s.newImages,imagesToDelete:s.imagesToDelete});k.success?(n(),r()):h(k.error||"Failed to update question")}catch(k){h(k.message||"An unexpected error occurred")}finally{u(!1)}};if(!t)return null;const S=(((_=e.imageUrls)==null?void 0:_.filter(v=>!s.imagesToDelete.includes(v)))||[]).length+s.newImages.length;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Question"}),a.jsx("button",{onClick:r,disabled:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(cr,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:d}),a.jsx(re,{label:"Question Title",placeholder:"What would you like to know?",value:s.title,onChange:v=>i(k=>({...k,title:v.target.value})),disabled:c,required:!0}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{value:s.category,onChange:v=>i(k=>({...k,category:v.target.value})),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:f.map(v=>a.jsx("option",{value:v,children:v},v))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Details"}),a.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:6,placeholder:"Provide more details about your question...",value:s.content,onChange:v=>i(k=>({...k,content:v.target.value})),disabled:c,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"Add a tag...",value:l,onChange:v=>o(v.target.value),onKeyPress:v=>v.key==="Enter"&&(v.preventDefault(),m()),disabled:c||s.tags.length>=5,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),a.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:m,disabled:!l.trim()||s.tags.length>=5||c,children:"Add"})]}),s.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(v=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:["#",v,a.jsx("button",{type:"button",onClick:()=>p(v),disabled:c,className:"ml-2 text-primary-600 hover:text-primary-800",children:a.jsx(cr,{className:"h-3 w-3"})})]},v))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),e.imageUrls&&e.imageUrls.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Current Images:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.imageUrls.map((v,k)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:v,alt:`Current ${k+1}`,className:`w-full h-24 object-cover rounded-lg border ${s.imagesToDelete.includes(v)?"border-red-300 opacity-50":"border-gray-200"}`}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all rounded-lg flex items-center justify-center",children:s.imagesToDelete.includes(v)?a.jsx("button",{type:"button",onClick:()=>j(v),disabled:c,className:"bg-green-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("span",{className:"text-xs px-2",children:"Restore"})}):a.jsx("button",{type:"button",onClick:()=>x(v),disabled:c,className:"bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(cr,{className:"h-4 w-4"})})}),s.imagesToDelete.includes(v)&&a.jsx("div",{className:"absolute top-1 left-1 bg-red-500 text-white text-xs px-1 rounded",children:"Will be deleted"})]},k))})]}),S<3&&a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(Xi,{className:"w-8 h-8 mb-2 text-gray-400"}),a.jsx("p",{className:"mb-2 text-sm text-gray-500",children:a.jsx("span",{className:"font-semibold",children:"Click to add images"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]}),a.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:y,disabled:S>=3||c})]})})}),s.newImages.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"New Images:"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.newImages.map((v,k)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:URL.createObjectURL(v),alt:`New ${k+1}`,className:"w-full h-24 object-cover rounded-lg border border-gray-200"}),a.jsx("button",{type:"button",onClick:()=>w(k),disabled:c,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(cr,{className:"h-3 w-3"})}),a.jsxs("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:[(v.size/1024/1024).toFixed(1),"MB"]})]},k))})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:s.isAnonymous,onChange:v=>i(k=>({...k,isAnonymous:v.target.checked})),disabled:c}),a.jsx("span",{className:"text-sm",children:"Post anonymously"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:s.isPublic,onChange:v=>i(k=>({...k,isPublic:v.target.checked})),disabled:c}),a.jsx("span",{className:"text-sm",children:"Make public"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[a.jsx(I,{type:"button",variant:"outline",onClick:r,disabled:c,children:"Cancel"}),a.jsx(I,{type:"submit",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Of,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})})}function dx(){const{id:e}=Fg(),t=kt(),{user:r}=Ge(),[n,s]=N.useState(null),[i,l]=N.useState(!0),[o,c]=N.useState(null),[u,d]=N.useState(""),[h,f]=N.useState(!1),[y,w]=N.useState(0),[x,j]=N.useState(!1),[m,p]=N.useState(!1);N.useEffect(()=>{e&&g()},[e]);const g=async()=>{if(!e)return;l(!0),c(null);const P=await $e.getQuestionById(e);P.success&&P.question?(s(P.question),w(P.question.upvotes),j(P.question.hasUserUpvoted||!1)):c(P.error||"Failed to load question"),l(!1)},b=P=>{const C=new Date(P),ke=Math.floor((new Date().getTime()-C.getTime())/(1e3*60*60));return ke<1?"Just now":ke<24?`${ke}h ago`:`${Math.floor(ke/24)}d ago`},S=async()=>{if(!r||!n)return;const P=!x,C=P?y+1:y-1;j(P),w(C);try{const Q=await $e.toggleQuestionUpvote(n.id);Q.success||(j(!P),w(y),console.error("Failed to toggle question upvote:",Q.error))}catch(Q){j(!P),w(y),console.error("Error toggling question upvote:",Q)}},_=async()=>{if(!(!u.trim()||!r||!n)){f(!0);try{const P=await $e.createAnswer({content:u.trim(),questionId:n.id});P.success?(d(""),await g()):console.error("Failed to create answer:",P.error)}catch(P){console.error("Error submitting answer:",P)}finally{f(!1)}}},v=async()=>{await g(),p(!1)},k=r&&n&&r.id===n.authorId;return i?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading question..."})]})}):o||!n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:o||"Question not found"}),a.jsxs(I,{onClick:()=>t("/feed"),children:[a.jsx(zl,{className:"h-4 w-4 mr-2"}),"Back to Feed"]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx(Ie,{to:"/feed",children:a.jsxs(I,{variant:"ghost",size:"sm",children:[a.jsx(zl,{className:"h-4 w-4 mr-2"}),"Back to Feed"]})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 leading-tight flex-1 mr-4",children:n.title}),k&&a.jsxs(I,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex-shrink-0",children:[a.jsx(qv,{className:"h-4 w-4 mr-2"}),"Edit"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ce,{variant:"primary",children:n.category}),n.tags.map(P=>a.jsxs(ce,{variant:"neutral",children:["#",P]},P)),n.isAnonymous&&a.jsx(ce,{variant:"warning",children:"Anonymous"}),!n.isPublic&&a.jsx(ce,{variant:"error",children:"Private"})]}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-6",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Asked ",b(n.createdAt)]}),a.jsxs("span",{children:["by ",n.isAnonymous?"Anonymous":n.authorName]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Tf,{className:"h-4 w-4 mr-1"}),n.views," view",n.views!==1?"s":""]})]})]}),a.jsx("div",{className:"prose max-w-none mb-6",children:a.jsx("p",{className:"text-gray-700 leading-relaxed text-lg whitespace-pre-wrap",children:n.content})}),n.imageUrls&&n.imageUrls.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Attached Images:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.imageUrls.map((P,C)=>a.jsx("img",{src:P,alt:`Question attachment ${C+1}`,className:"rounded-lg border border-gray-200 max-h-64 w-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(P,"_blank")},C))})]}),a.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(I,{variant:"ghost",size:"sm",onClick:S,disabled:!r,className:`flex items-center ${x?"text-primary-600":""}`,children:[a.jsx(Ko,{className:"h-4 w-4 mr-1"}),y," Upvote",y!==1?"s":""]}),a.jsxs("span",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(yt,{className:"h-4 w-4 mr-1"}),n.answers.length," Answer",n.answers.length!==1?"s":""]})]})})]}),(r==null?void 0:r.role)==="doctor"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(vt,{className:"h-5 w-5 text-medical-600 mr-2"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Provide Medical Advice"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{placeholder:"Provide your professional medical advice here. Be thorough and consider mentioning when the patient should seek in-person care...",rows:6,value:u,onChange:P=>d(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none",disabled:h}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Your response will be marked as verified medical advice"}),a.jsx(I,{onClick:_,disabled:!u.trim()||h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Submit Answer"]})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:n.answers.length===0?"No Answers Yet":`${n.answers.length} Answer${n.answers.length!==1?"s":""}`}),n.answers.length>0?a.jsx("div",{className:"space-y-6",children:n.answers.map(P=>a.jsx(Uf,{answer:P},P.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(yt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No answers yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Be the first to help answer this question and provide valuable insights to the community."}),(r==null?void 0:r.role)==="doctor"&&a.jsx("p",{className:"text-sm text-gray-400",children:"Use the form above to provide your professional medical advice."})]})]}),m&&n&&a.jsx(ux,{question:n,isOpen:m,onClose:()=>p(!1),onSave:v})]})})}function hx(){const{user:e}=Ge(),[t,r]=N.useState("questions"),[n,s]=N.useState([]),[i,l]=N.useState(!0),[o,c]=N.useState(!1),[u,d]=N.useState(!1),[h,f]=N.useState({title:"",content:"",category:"General Medicine",isAnonymous:!1,isPublic:!0,images:[]}),y=["General Medicine","Diabetes","Nutrition","Preventive Care","Mental Health","Cardiology","Dermatology","Pediatrics","Women's Health","Other"],w=[{id:"questions",label:"My Questions",icon:yt},{id:"bookings",label:"Consultations",icon:Ni},{id:"profile",label:"Profile",icon:rs}];N.useEffect(()=>{x()},[]);const x=async()=>{if(!e)return;l(!0);const _=await $e.getUserQuestions();_.success&&_.questions?s(_.questions):console.error("Failed to load user questions:",_.error),l(!1)},j=_=>{const v=new Date(_);return v.toLocaleDateString()+" at "+v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},m=_=>_.answers.length===0?a.jsx(ce,{variant:"warning",children:"No Answers"}):_.answers.some(v=>v.isVerified)?a.jsx(ce,{variant:"success",children:"Answered by Doctor"}):a.jsxs(ce,{variant:"neutral",children:[_.answers.length," Answer",_.answers.length>1?"s":""]}),p=_=>{const k=Array.from(_.target.files||[]).filter(P=>{const C=P.type.startsWith("image/"),Q=P.size<=5*1024*1024;return C&&Q});f(P=>({...P,images:[...P.images,...k].slice(0,3)}))},g=_=>{f(v=>({...v,images:v.images.filter((k,P)=>P!==_)}))},b=()=>{f({title:"",content:"",category:"General Medicine",isAnonymous:!1,isPublic:!0,images:[]})},S=async()=>{if(e){d(!0);try{const _=await $e.createQuestion({title:h.title.trim(),content:h.content.trim(),category:h.category,tags:[],isAnonymous:h.isAnonymous,isPublic:h.isPublic,images:h.images});_.success?(await x(),b(),c(!1)):console.error("Failed to create question:",_.error)}catch(_){console.error("Error submitting question:",_)}finally{d(!1)}}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx(Ji,{className:"h-8 w-8 text-primary-600"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",e==null?void 0:e.name,"!"]}),a.jsx("p",{className:"text-gray-600",children:"Manage your health questions and consultations"})]})]}),a.jsxs(I,{onClick:()=>c(!0),children:[a.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Ask New Question"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(yt,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.length}),a.jsx("p",{className:"text-gray-600",children:"Questions Asked"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ni,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"2"}),a.jsx("p",{className:"text-gray-600",children:"Upcoming Consultations"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(rs,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.reduce((_,v)=>_+v.answers.length,0)}),a.jsx("p",{className:"text-gray-600",children:"Total Answers Received"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:w.map(_=>{const v=_.icon;return a.jsxs("button",{onClick:()=>r(_.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===_.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(v,{className:"h-4 w-4 mr-2"}),_.label]},_.id)})})}),a.jsxs("div",{className:"p-6",children:[t==="questions"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Health Questions"}),a.jsxs(I,{size:"sm",onClick:()=>c(!0),children:[a.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Ask Question"]})]}),i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading your questions..."})]}):n.length>0?a.jsx("div",{className:"space-y-4",children:n.map(_=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:_.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:_.content})]}),a.jsx("div",{className:"ml-4",children:m(_)})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ce,{variant:"primary",children:_.category}),_.tags.slice(0,3).map(v=>a.jsxs(ce,{variant:"neutral",children:["#",v]},v)),_.isAnonymous&&a.jsx(ce,{variant:"warning",children:"Anonymous"}),!_.isPublic&&a.jsx(ce,{variant:"error",children:"Private"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:[_.answers.length," answer",_.answers.length!==1?"s":""]}),a.jsxs("span",{children:[_.upvotes," upvote",_.upvotes!==1?"s":""]}),a.jsxs("span",{children:[_.views," view",_.views!==1?"s":""]})]}),a.jsxs("span",{children:["Asked ",j(_.createdAt)]})]}),_.answers.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Answers:"}),a.jsx("div",{className:"space-y-3",children:_.answers.map(v=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.authorName}),v.isVerified&&a.jsx(ce,{variant:"success",size:"sm",children:"Verified Doctor"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:j(v.createdAt)})]}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:v.content}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[v.upvotes," upvote",v.upvotes!==1?"s":""]}),a.jsx("div",{className:"text-xs text-gray-400",children:v.authorRole==="doctor"?"Medical Professional":"Community Member"})]})]},v.id))})]})]},_.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(yt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 mb-2",children:"You haven't asked any questions yet."}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Start by asking your first health question to get expert advice from our community."}),a.jsxs(I,{onClick:()=>c(!0),children:[a.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Ask Your First Question"]})]})]}),t==="bookings"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Consultations"}),a.jsx("div",{className:"space-y-4",children:[{id:"1",doctor:"Dr. Sarah Johnson",specialty:"General Medicine",date:"2024-01-20",time:"10:00 AM",status:"scheduled"},{id:"2",doctor:"Dr. Michael Chen",specialty:"Cardiology",date:"2024-01-25",time:"2:30 PM",status:"scheduled"}].map(_=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:_.doctor}),a.jsx("p",{className:"text-sm text-gray-600",children:_.specialty}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[new Date(_.date).toLocaleDateString()," at ",_.time]})]}),a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:_.status})]})},_.id))})]}),t==="profile"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",value:(e==null?void 0:e.phone)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),a.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tell us about yourself..."})]}),a.jsx(I,{children:"Save Changes"})]})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Ask a Health Question"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(re,{label:"Question Title",placeholder:"What would you like to know?",value:h.title,onChange:_=>f(v=>({...v,title:_.target.value}))}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{value:h.category,onChange:_=>f(v=>({...v,category:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:y.map(_=>a.jsx("option",{value:_,children:_},_))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Details"}),a.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:6,placeholder:"Provide more details about your question...",value:h.content,onChange:_=>f(v=>({...v,content:_.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Images (Optional)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(Xi,{className:"w-8 h-8 mb-2 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB (Max 3 images)"})]}),a.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:p,disabled:h.images.length>=3})]})}),h.images.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-3",children:h.images.map((_,v)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:URL.createObjectURL(_),alt:`Upload ${v+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"}),a.jsx("button",{type:"button",onClick:()=>g(v),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(cr,{className:"h-3 w-3"})}),a.jsxs("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:[(_.size/1024/1024).toFixed(1),"MB"]})]},v))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Images help doctors better understand your condition. Only upload relevant medical images."})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:h.isAnonymous,onChange:_=>f(v=>({...v,isAnonymous:_.target.checked}))}),a.jsx("span",{className:"text-sm",children:"Post anonymously"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",checked:h.isPublic,onChange:_=>f(v=>({...v,isPublic:_.target.checked}))}),a.jsx("span",{className:"text-sm",children:"Make public"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(I,{variant:"outline",onClick:()=>{b(),c(!1)},disabled:u,children:"Cancel"}),a.jsx(I,{onClick:S,disabled:!h.title.trim()||!h.content.trim()||u,children:u?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Posting..."]}):"Post Question"})]})]})})]})})}function fx(){var j;const{user:e}=Ge(),[t,r]=N.useState("questions"),[n,s]=N.useState([]),[i,l]=N.useState(!0),[o,c]=N.useState({}),[u,d]=N.useState({}),h=[{id:"questions",label:"Unanswered Questions",icon:yt},{id:"consultations",label:"Consultations",icon:Ni},{id:"profile",label:"Profile",icon:Fl}];N.useEffect(()=>{f()},[]);const f=async()=>{l(!0);const m=await $e.getUnansweredQuestions();m.success&&m.questions?s(m.questions):console.error("Failed to load unanswered questions:",m.error),l(!1)},y=async m=>{var g;const p=(g=o[m])==null?void 0:g.trim();if(p){d(b=>({...b,[m]:!0}));try{const b=await $e.createAnswer({content:p,questionId:m});b.success?(c(S=>({...S,[m]:""})),await f()):console.error("Failed to create answer:",b.error)}catch(b){console.error("Error submitting answer:",b)}finally{d(b=>({...b,[m]:!1}))}}},w=(m,p)=>{c(g=>({...g,[m]:p}))},x=m=>{const p=new Date(m),b=Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60));return b<1?"Just now":b<24?`${b}h ago`:`${Math.floor(b/24)}d ago`};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-bold text-xl",children:((j=e==null?void 0:e.name)==null?void 0:j.split(" ").map(m=>m[0]).join(""))||"D"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e==null?void 0:e.name}),(e==null?void 0:e.verified)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(vt,{className:"h-5 w-5 text-medical-600 mr-1"}),a.jsx(ce,{variant:"success",children:"Verified Doctor"})]})]}),a.jsx("p",{className:"text-gray-600",children:e==null?void 0:e.specialization}),(e==null?void 0:e.bio)&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-2xl",children:e.bio})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(yt,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.length}),a.jsx("p",{className:"text-gray-600",children:"Pending Questions"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(we,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"147"}),a.jsx("p",{className:"text-gray-600",children:"Questions Answered"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Ni,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"8"}),a.jsx("p",{className:"text-gray-600",children:"Consultations Today"})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Rf,{className:"h-6 w-6 text-yellow-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"4.9"}),a.jsx("p",{className:"text-gray-600",children:"Average Rating"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:h.map(m=>{const p=m.icon;return a.jsxs("button",{onClick:()=>r(m.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===m.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(p,{className:"h-4 w-4 mr-2"}),m.label]},m.id)})})}),a.jsxs("div",{className:"p-6",children:[t==="questions"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Questions Awaiting Your Response"}),a.jsxs(I,{variant:"outline",size:"sm",onClick:f,disabled:i,children:[i?a.jsx(te,{className:"h-4 w-4 animate-spin mr-2"}):null,"Refresh"]})]}),i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading questions..."})]}):n.length>0?a.jsx("div",{className:"space-y-6",children:n.map(m=>{var p;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:m.title}),a.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:m.content}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ce,{variant:"primary",children:m.category}),m.tags.slice(0,3).map(g=>a.jsxs(ce,{variant:"neutral",children:["#",g]},g))]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Asked by ",m.isAnonymous?"Anonymous":m.authorName," •",x(m.createdAt)," •",m.upvotes," upvote",m.upvotes!==1?"s":""," •",m.views," view",m.views!==1?"s":""]})]})}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Medical Response"}),a.jsx("textarea",{placeholder:"Provide your professional medical advice here. Be thorough and consider mentioning when the patient should seek in-person care...",rows:6,value:o[m.id]||"",onChange:g=>w(m.id,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none",disabled:u[m.id]}),a.jsxs("div",{className:"flex justify-between items-center mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Your response will be marked as verified medical advice"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(I,{variant:"outline",size:"sm",disabled:u[m.id],children:"Save Draft"}),a.jsx(I,{size:"sm",onClick:()=>y(m.id),disabled:!((p=o[m.id])!=null&&p.trim())||u[m.id],children:u[m.id]?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Submit Answer"]})})]})]})]})]},m.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(we,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"All caught up!"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"There are no unanswered questions at the moment."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Great job helping the community. Check back later for new questions."})]})]}),t==="consultations"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Consultations"}),a.jsx("div",{className:"space-y-4",children:[{id:"1",patient:"John D.",time:"09:00 AM",duration:"30 min",status:"completed",fee:"$50"},{id:"2",patient:"Sarah M.",time:"10:30 AM",duration:"45 min",status:"in-progress",fee:"$75"},{id:"3",patient:"Mike R.",time:"02:00 PM",duration:"30 min",status:"scheduled",fee:"$50"}].map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:m.patient}),a.jsxs("p",{className:"text-sm text-gray-600",children:[m.time," • ",m.duration]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"font-medium text-gray-900",children:m.fee}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m.status==="completed"?"bg-green-100 text-green-800":m.status==="in-progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:m.status})]})]})},m.id))})]}),t==="profile"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Doctor Profile"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.specialization)||"",onChange:()=>{},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., General Medicine, Cardiology, Pediatrics",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professional Bio"}),a.jsx("textarea",{rows:4,value:(e==null?void 0:e.bio)||"",onChange:()=>{},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tell patients about your experience, expertise, and approach to healthcare...",readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consultation Fee (USD)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{type:"number",placeholder:"50",onChange:()=>{},className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",readOnly:!0})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(vt,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Verification Status"}),a.jsx("p",{className:"text-sm text-blue-700",children:e!=null&&e.verified?"Your account is verified. Patients can see the verified badge on your responses.":"Your account is pending verification. Submit your medical credentials to get verified."})]})]})}),a.jsx(I,{children:"Update Profile"})]})]})]})]})]})})}class Uu{static async updateProfile(t,r){try{const{error:n}=await O.from("profiles").update({...r,updated_at:new Date().toISOString()}).eq("id",t);return n?(console.error("Error updating profile:",n),{success:!1,error:n.message}):{success:!0}}catch(n){return console.error("Error updating profile:",n),{success:!1,error:n.message||"An unexpected error occurred"}}}static async getProfile(t){try{const{data:r,error:n}=await O.from("profiles").select("*").eq("id",t).single();return n?(console.error("Error fetching profile:",n),{success:!1,error:n.message}):{success:!0,profile:r}}catch(r){return console.error("Error fetching profile:",r),{success:!1,error:r.message||"An unexpected error occurred"}}}}function mx(){const{user:e}=Ge(),t=kt(),[r,n]=N.useState(!0),[s,i]=N.useState(!1),[l,o]=N.useState(""),[c,u]=N.useState("");console.log("ProfileEditPage - Initial state:",{loading:r,saving:s,user:e==null?void 0:e.name});const[d,h]=N.useState({full_name:"",phone:"",bio:"",specialization:"",affiliate_health_facility:""}),f=["General Medicine","Cardiology","Dermatology","Endocrinology","Gastroenterology","Neurology","Obstetrics & Gynecology","Oncology","Orthopedics","Pediatrics","Psychiatry","Pulmonology","Radiology","Surgery","Urology","Nutrition & Dietetics","Other"];N.useEffect(()=>{e&&(console.log("ProfileEditPage - User found, loading profile for:",e.name),y())},[e]);const y=async()=>{if(!e)return;console.log("ProfileEditPage - loadProfile started"),n(!0);const j=await Uu.getProfile(e.id);j.success&&j.profile?(console.log("ProfileEditPage - Profile loaded successfully:",j.profile),h({full_name:j.profile.full_name||"",phone:j.profile.phone||"",bio:j.profile.bio||"",specialization:j.profile.specialization||"",affiliate_health_facility:j.profile.affiliate_health_facility||""})):(console.log("ProfileEditPage - Failed to load profile:",j.error),o(j.error||"Failed to load profile")),console.log("ProfileEditPage - loadProfile completed, loading set to false"),n(!1)},w=async j=>{if(j.preventDefault(),console.log("ProfileEditPage - handleSubmit started"),!!e){o(""),u(""),console.log("ProfileEditPage - Setting saving to true"),i(!0);try{if(!d.full_name.trim()){o("Full name is required");return}if(e.role==="doctor"){if(!d.specialization){o("Specialization is required for doctors");return}if(!d.affiliate_health_facility.trim()){o("Affiliate health facility is required for doctors");return}}const m={full_name:d.full_name.trim(),phone:d.phone.trim()||void 0,bio:d.bio.trim()||void 0};e.role==="doctor"&&(m.specialization=d.specialization,m.affiliate_health_facility=d.affiliate_health_facility.trim()),console.log("ProfileEditPage - Calling ProfileService.updateProfile with:",m);const p=await Uu.updateProfile(e.id,m);console.log("ProfileEditPage - ProfileService.updateProfile result:",p),p.success?(u("Profile updated successfully!"),setTimeout(()=>{t("/doctor-dashboard")},1500)):o(p.error||"Failed to update profile")}catch(m){o(m.message||"An unexpected error occurred")}finally{console.log("ProfileEditPage - Setting saving to false"),i(!1)}}},x=(j,m)=>{console.log("ProfileEditPage - handleInputChange called:",{field:j,value:m,currentSaving:s}),h(p=>({...p,[j]:m})),l&&o(""),c&&u("")};return r?(console.log("ProfileEditPage - Rendering loading state"),a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(te,{className:"h-8 w-8 animate-spin text-primary-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})):(console.log("ProfileEditPage - Rendering form with formData:",d),console.log("ProfileEditPage - Current saving state:",s),a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t("/doctor-dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[a.jsx(zl,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-primary-600 p-3 rounded-full",children:a.jsx(rs,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),a.jsx("p",{className:"text-gray-600",children:"Update your professional information"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:l}),c&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg text-sm",children:c}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(re,{label:"Full Name *",type:"text",value:d.full_name,onChange:j=>x("full_name",j.target.value),required:!0,placeholder:"Dr. John Smith",disabled:s}),a.jsx(re,{label:"Phone Number",type:"tel",value:d.phone,onChange:j=>x("phone",j.target.value),placeholder:"+233-XX-XXX-XXXX",disabled:s}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professional Bio"}),a.jsx("textarea",{value:d.bio,onChange:j=>x("bio",j.target.value),rows:4,placeholder:"Tell patients about your experience, expertise, and approach to healthcare...",disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200"})]})]})]}),(e==null?void 0:e.role)==="doctor"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Professional Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization *"}),a.jsxs("select",{value:d.specialization,onChange:j=>x("specialization",j.target.value),required:!0,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"Select your specialization"}),f.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsx(re,{label:"Affiliate Health Facility *",type:"text",value:d.affiliate_health_facility,onChange:j=>x("affiliate_health_facility",j.target.value),required:!0,placeholder:"e.g., City General Hospital, Private Practice",disabled:s})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[a.jsx(I,{type:"button",variant:"outline",onClick:()=>t("/doctor-dashboard"),disabled:s,children:"Cancel"}),a.jsx(I,{type:"submit",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Of,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]})}))}function px(){return a.jsx(Rv,{children:a.jsx(d0,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsx(Xv,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(s0,{children:[a.jsx(Je,{path:"/",element:a.jsx(ex,{})}),a.jsx(Je,{path:"/login",element:a.jsx(Ru,{})}),a.jsx(Je,{path:"/signup",element:a.jsx(Ru,{})}),a.jsx(Je,{path:"/doctor-signup",element:a.jsx(tx,{})}),a.jsx(Je,{path:"/doctor-verification-pending",element:a.jsx(rx,{})}),a.jsx(Je,{path:"/feed",element:a.jsx(vn,{children:a.jsx(cx,{})})}),a.jsx(Je,{path:"/questions/:id",element:a.jsx(vn,{children:a.jsx(dx,{})})}),a.jsx(Je,{path:"/patient-dashboard",element:a.jsx(vn,{children:a.jsx(hx,{})})}),a.jsx(Je,{path:"/doctor-dashboard",element:a.jsx(vn,{children:a.jsx(fx,{})})}),a.jsx(Je,{path:"/profile/edit",element:a.jsx(vn,{children:a.jsx(mx,{})})})]})}),a.jsx(Yv,{})]})})})}Ia.createRoot(document.getElementById("root")).render(a.jsx(qu.StrictMode,{children:a.jsx(px,{})}));
